window.xin=function(){"use strict";var a={set:function(a,b){var c,d,e=this;if("xin."!==a.substr(0,4))throw new Error('Namespace not accepted, should be prefixed with "xin."');c=a.substr(4).split("."),d=c[c.length-1],_.each(c,function(a){e[a]=a===d?b:e[a]||{},e=e[a]})},htmlDecode:function(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">")}};return window.jQuery?(a.when=jQuery.when,a.Deferred=jQuery.Deferred,a.$=jQuery):window.Zepto&&(Deferred.installInto(a),Zepto.Deferred||Deferred.installInto(Zepto),a.$=Zepto),window.Zepto&&(a.$.fn.detach=a.$.fn.remove),function(){a.$.fn.serializeObject=function(){var b={};return _.each(a.$(this).serializeArray(),function(a){b[a.name]=a.value}),b}}(),function(a){_.template=function(b,c){var d=a.apply(this,arguments);return c||(d.text=b),d}}(_.template),function(b){a.$.fn.attr=function(){if(0===arguments.length){if(0===this.length)return null;var c={};return a.$.each(this[0].attributes,function(){this.specified&&(c[this.name]=this.value)}),c}return b.apply(this,arguments)}}(a.$.fn.attr),a}(),function(a){"use strict";var b=document.body,c=navigator.userAgent,d=~c.indexOf("iPhone")||~c.indexOf("iPod"),e=~c.indexOf("iPad"),f=d||e,g=window.navigator.standalone,h=~c.indexOf("Android"),i="mozRequestAnimationFrame"in window,j="webkitRequestAnimationFrame"in window,k=0,l={ua:c,iphone:d,ipad:e,ios:f,fullscreen:g,android:h,moz:i,webkit:j};l.TRANSITION_END="transitionend",j&&(l.TRANSITION_END="webkitTransitionEnd"),a.set("xin.detect",l);var m=a.$.fn.css;a.$.fn.css=function(b,c){if("string"==typeof b)switch(b){case"transform":case"transition":a.detect.moz&&m.call(this,"-moz-"+b,c),a.detect.webkit&&m.call(this,"-webkit-"+b,c)}return m.apply(this,arguments)},h&&(window.onscroll=function(){b.style.height=window.innerHeight+"px"});var n=window.onload=function(){if(f){var a=document.documentElement.clientHeight;d&&!g&&(a+=60),b.style.height=a+"px"}else h&&(b.style.height=window.innerHeight+56+"px");setTimeout(scrollTo,0,0,1)};window.onresize=function(){var a=b.offsetWidth;k!=a&&(k=a,n())},window.onresize()}(window.xin),function(a){"use strict";var b=function(){this.initialize.apply(this,arguments)};window._.extend(b.prototype,window.Backbone.Events,{initialize:function(b){var c=this;this.options=b=b||{},this.container=new a.IoC,this.container.app=this,this.router=b.router||new a.Router,this.router.app=this,b.middlewares&&window._.each(b.middlewares,function(a){c.use(a)}),this.directiveManager=new a.DirectiveManager(this),b.directives&&a.$.each(b.directives,function(a,b){c.directiveManager.put(a,b)}),this.$el=a.$(b.el),this.$el.addClass("xin-app").attr("data-role","app"),this.providerRepository=new a.ProviderRepository(this),a.app=a.app||this},remove:function(){this.$el.removeClass("xin-app").removeAttr("data-role")},start:function(){var b=this,c=a.Deferred();return this.baseURL=location.href.split("#")[0],this.catchAllHref(),a.when(this.providerRepository.initialize()).then(function(){return b.directiveManager.scan()}).done(function(){"function"==typeof b.router.start?b.router.start():window.Backbone.history.start(),c.resolve()}),c.promise()},catchAllHref:function(){var b=this;this.$el.on("click","a",function(c){var d=a.$(this);if("external"!==d.data("rel")){var e=d.attr("href");if("#"!==e[0]){"/"===e[0]&&(e=location.origin+e),c.preventDefault(),e=b.simplifyURL(e);var f=e.split("#")[0]===location.href.split("#")[0]?"#_":"#"+e;location.hash=f}}}),this.$el.on("submit","form",function(c){var d=a.$(this),e=d.data("submit");"external"!==d.data("rel")&&(e&&(e=b.get(e)),c.preventDefault(),a.$.ajax({url:d.attr("action"),method:d.attr("method"),data:d.serialize()}).done(function(a,b,c){e(null,a,c),window.Backbone.trigger("form-success",d,a,b,c)}).fail(function(a,b,c){e(b,c,a),window.Backbone.trigger("form-error",d,a,b,c)}))})},simplifyURL:function(a){return 0===a.indexOf(this.baseURL)&&(a=a.substr(this.baseURL.length)),a},siteURL:function(a){return"/"===a[0]&&(a=a.substr(1)),this.baseURL+a},set:function(){this.container.set.apply(this.container,arguments)},get:function(){return this.container.get.apply(this.container,arguments)},resolve:function(){return this.container.resolve.apply(this.container,arguments)},use:function(a){if("string"==typeof a&&(a=this.get(a)),"function"==typeof a){var b=a;a=new b}if(!a)throw new Error("Middleware not found or instantiated!");this.router.use(a)}}),a.set("xin.App",b)}(window.xin),function(a){"use strict";var b=function(){this.initialize.apply(this,arguments)};_.extend(b.prototype,{context:{},fallbackContext:null,initialize:function(a){a=a||{},this.fallbackContext=a.fallbackContext||window,this.aliases={app:"xin.App",view:"xin.ui.Outlet",layout:"xin.ui.Layout",header:"xin.ui.Header",pane:"xin.ui.Pane",list:"xin.ui.List","list-item":"xin.ui.List.Item",drawer:"xin.ui.Drawer",navbar:"xin.ui.Navbar"}},clear:function(){this.context={},this.context.prototype=this.fallbackContext},get:function(a){if(!a)return void console.error("IoC cannot get from key:",a);var b,c=a.split("."),d=this.context;return d=this.context,(b=_.every(c,function(a){return d=d[a]||void 0,void 0!==d}))?d:(d=this.fallbackContext,b=_.every(c,function(a){return d=d[a]||void 0,void 0!==d}),b?d:void 0)},set:function(a,b){if(!a)return void console.error("cannot set key:",a,"value:",b);{var c=a.split("."),d=this.context,e=0;_.each(c,function(a){e++,e==c.length?d[a]=b:(d[a]||(d[a]={}),d=d[a])})}},createObject:function(b,c){var d,e,f=a.Deferred(),g=c?c.id:null,h=[];for(var i in arguments)h.push(arguments[i]);switch(b.prototype instanceof Backbone.Collection||b.prototype instanceof Backbone.Model?h[0]=null:h=h.slice(1),h.length){case 0:d=new b;break;case 1:d=new b(h[0]);break;case 2:d=new b(h[0],h[1]);break;case 3:d=new b(h[0],h[1],h[2]);break;case 4:d=new b(h[0],h[1],h[2],h[3]);break;case 5:d=new b(h[0],h[1],h[2],h[3],h[4])}return d.app=this.app,g&&this.set(g,d),c.show&&(e=this.get(c.show),e&&"function"==typeof d.on&&d.on("show",e)),c.init&&(e=this.get(c.init),e.apply(d)),f.resolve(d),f.promise()},resolveAlias:function(a){var b;do b=!1,this.aliases[a]&&(a=this.aliases[a],b=!0);while(b);return a},resolve:function(c){var d,e,f,g="",h=a.Deferred(),i=[];if(c=this.resolveAlias(c),!c)return h.reject(new Error("Key not found or cannot resolve!")).promise();for(var j in arguments)i.push(arguments[j]);if("function"==typeof c)this.createObject.apply(this,i).then(h.resolve,h.reject);else if("string"==typeof c)if(d=c.indexOf(":"),d>=0&&(g=c.substr(0,d),c=c.substr(d+1)),g)try{e=b.getResolver(g),i[0]=c,e.apply(this,i).then(h.resolve,h.reject)}catch(k){h.resolve(c)}else{if(f=this.get(c),!f)throw new Error("Key: "+c+" not found!");if(f.xrole=c,"function"==typeof f){var l=_.last(c.split("."))[0];l.toUpperCase()==l?(i[0]=f,this.createObject(i[0],i[1]).then(h.resolve,h.reject)):h.resolve(f.apply(void 0,i.slice(1)))}else h.resolve(f)}else h.resolve(c);return h.promise()}}),_.extend(b,{resolvers:{xhr:function(b){return a.$.get(b).then(null,function(b,c,d){return a.Deferred().reject(new Error(d)).promise()}).promise()},template:function(c){var d=a.$("script#"+c);if(d.length>0)return a.Deferred().resolve(_.template(d.html())).promise();var e=b.getResolver("xhr");return e(c).then(function(b){return a.Deferred().resolve(_.template(b))},null)},model:function(b){var c=a.Deferred();return a.when(this.resolve(b)).then(function(a){a instanceof Backbone.Model||(a=new Backbone.Model(a)),c.resolve(a)}),c.promise()},collection:function(b){var c=a.Deferred();return a.when(this.resolve(b)).then(function(a){a instanceof Backbone.Collection||(a=new Backbone.Collection(a)),c.resolve(a)}),c.promise()}},addResolver:function(a,b){this.resolvers[a]=b},getResolver:function(a){var b=this.resolvers[a];if("function"==typeof b)return b;if("object"==typeof b&&"function"==typeof b.resolve)return b.resolve;throw new Error("IoC Resolver ["+a+"] not found!")}}),a.set("xin.IoC",b)}(window.xin),function(a){"use strict";var b=function(){this.middlewares=[],Backbone.Router.apply(this,arguments)};_.extend(b.prototype,Backbone.Router.prototype,{routes:{"*splats":"routeMissing"},start:function(){Backbone.history.start()},registerView:function(a,b){this.viewRoutes[a]=b,(!this.viewDefaultRoute||b.data("uri-default"))&&(this.viewDefaultRoute=a)},routeMissing:function(b){b=(b||"").trim();var c=this,d=this.app.simplifyURL(b);if(b!==d)return void(location.hash=d);var e=c.viewRoutes[b],f=function(){e=a.$(".xin-pane > .xin-view"),c.viewDefaultRoute="_",e.attr("data-uri","_"),c.registerView("_",e)};e||"_"!=b||f(),""===b?(c.viewDefaultRoute||f(),location.hash=c.viewDefaultRoute):e?a.ui.show(e.data("instance")):a.$.get(b).done(function(d){d=d.trim(),d.indexOf("<body")>=0?(d=d.substr(d.indexOf("<body")+1),d="<div>"+d.substr(d.indexOf(">")+1)+"</div>"):d.indexOf("<BODY")>=0?(d=d.substr(d.indexOf("<BODY")+1),d="<div>"+d.substr(d.indexOf(">")+1)+"</div>"):d="<div>"+d+"</div>";var e=a.$(d),f=e.find("[data-role=pane] > [data-role]");f.length>0?(e=f,e.attr("data-uri",b)):(e.find("body").length>0&&(e=e.find("body")),d=e.html()||"",e=a.$('<div data-role="view" data-uri="'+b+'">'+d+"</div>")),c.mainViewport.append(e),a.when(c.app.directiveManager.scan()).done(function(){c.routeMissing(b)})}).fail(function(){console.error('Missing route for URI: "'+b+'"')})},show:function(a){a&&("function"==typeof a.show?a.show():a.$el.addClass("hz-show"))},route:function(a){var b,c=[],d=this;if(arguments.length>1)for(var e=1;e<arguments.length;e++)c.push(b=arguments[e]);"string"==typeof b&&(b=this[b]),Backbone.Router.prototype.route.call(this,a,function(){var a=arguments;d.runMiddleware.call(d,b.options||{}).done(function(){b.apply(d,a)})})},use:function(a){a.app=this.app,this.middlewares.push(a)},runMiddleware:function(b){var c=(this.app,null);return _.each(this.middlewares,function(a){c=c?c.then(function(){return a.call(b)}):a.call(b)}),c||(c=a.Deferred().resolve().promise()),c}}),a.set("xin.Router",b)}(window.xin),function(a){"use strict";var b=function(a){this.app=a,this.directives={}};_.extend(b.prototype,{put:function(a,b){if(!b)throw new Error('Directive for "'+a+'" not found or invalid!');if("function"==typeof b){var c=b;b=new c(this.app)}this.directives[a]=b},scan:function(b){var c,d=this,e=[],f=new a.Deferred,g=function(){e=[],b.children().each(function(){var b=a.$(this);e.push(d.scan(b))}),a.$.when.apply(null,e).done(function(){f.resolve()})},h=function(c){return function(d){return d?(g(),a.Deferred().reject().promise()):c.run(b)}};return b=b||this.app.$el,_.each(this.directives,function(a){a.matcher(b)&&(c=c?c.then(h(a)):a.run(b))}),c||(c=a.Deferred().resolve().promise()),c.done(g),f.promise()}}),a.set("xin.DirectiveManager",b)}(window.xin),function(a){"use strict";var b=function(a){this.app=a,this.providers=[]};_.extend(b.prototype,{add:function(a){if(!a)throw new Error("Provider not found or invalid!");if("function"==typeof a){var b=a;a=new b}this.providers.push(a)},initialize:function(){var b=this.app,c=null;return _.each(this.providers,function(a){c=c?c.then(function(){return a.initialize(b)}):a.initialize(b)}),c||(c=a.Deferred().resolve().promise()),c}}),a.set("xin.ProviderRepository",b)}(window.xin),function(a){var b=function(a,b){this.$el=a,this.to=b,this.timeout=.3};_.extend(b.prototype,{play:function(){var b=this,c=a.Deferred();this.$el.on(a.detect.TRANSITION_END,function(){b.$el.off(a.detect.TRANSITION_END),b.$el.css("transition",""),b.$el.css("transform",""),c.resolve()});var d="100%";return"right"==this.to&&(d="-"+d),this.$el.css("transform","translate3d("+d+", 0, 0)"),this.$el.css("transition","all "+b.timeout+"s"),b.$el.addClass("xin-show"),setTimeout(function(){b.$el.css("transform","translate3d(0, 0, 0)")},a.fx.defaultOptions.delay),c.promise()}});var c=function(a,b){this.$el=a,this.to=b,this.timeout=.3};_.extend(c.prototype,{play:function(){var b=this,c=a.Deferred();return this.$el.on(a.detect.TRANSITION_END,function(){b.$el.off(a.detect.TRANSITION_END),b.$el.removeClass("xin-show"),b.$el.css("transition",""),b.$el.css("transform",""),c.resolve()}),this.$el.css("transform","translate3d(0, 0, 0)"),this.$el.css("transition","all "+b.timeout+"s"),setTimeout(function(){var a="100%";"left"==b.to&&(a="-"+a),b.$el.css("transform","translate3d("+a+", 0, 0)")},a.fx.defaultOptions.delay),c.promise()}}),a.set("xin.fx",{defaultOptions:{delay:300},SlideIn:b,SlideOut:c})}(window.xin),function(a){"use strict";a.set("xin.ui",{show:function(a){Backbone.trigger("xin-show",a),_.defer(function(){a.parent&&a.parent.showChild?a.parent.showChild(a).done(function(){a.$el[0].scrollTop=0,a.$el.addClass("xin-show")}):a.$el.addClass("xin-show"),a.trigger("show",a)})}})}(window.xin),function(a){"use strict";var b=function(a){this.app=a};_.extend(b.prototype,{matcher:function(a){return a.data("role")&&"app"===a.data("role").toLowerCase()},run:function(b){var c=a.Deferred();return b.attr("data-instantiated",!0).addClass("xin-role").data("instance",this.app),c.resolve(),c.promise()}}),a.set("xin.directive.AppDirective",b)}(window.xin),function(a){"use strict";var b=function(a){this.app=a};_.extend(b.prototype,{matcher:function(a){return a.data("role")&&"app"!==a.data("role").toLowerCase()?!0:void 0},run:function(b){var c,d,e=[],f=new a.Deferred,g=this.app;return b.data("instantiated")?f.resolve().promise():(c=_.defaults(b.data(),{el:b,app:g}),d=c.role,delete c.role,_.each(c,function(a,b){if("string"==typeof a){a=b+":"+a;var d=g.resolve(a).then(function(a){c[b]=a});e.push(d)}}),a.when.apply(null,e).done(function(){g.resolve(d,c).done(function(b){var c,e;if(!b)throw new Error('Role: "'+d+'" undefined');if(c=b.$el,c&&(e=c.parent(".xin-role"),c.attr("data-instantiated",!0).data("instance",b).addClass("xin-role"),b.cid&&c.attr("data-cid",b.cid),e.length)){var g=e.data("instance");g.addChild&&g.addChild(b)}b.onReady?a.when(b.onReady()).then(f.resolve):f.resolve()}).fail(function(){console.log(arguments)})}),f.promise())}}),a.set("xin.directive.RoleDirective",b)}(window.xin),function(a){var b=function(a){this.app=a,this.router=a.router,this.router.viewRoutes=a.router.viewRoutes||{},this.router.viewDefaultRoute=null};_.extend(b.prototype,{matcher:function(a){return a.data("uri")},run:function(b){var c=a.Deferred(),d=b.data("uri");return this.router.registerView(d,b),c.resolve().promise()}}),a.set("xin.directive.URIDirective",b)}(window.xin),function(a){"use strict";var b=function(a){this.app=a,this.binding=[]};_.extend(b.prototype,{newRef:function(){return this.ref=this.ref||0,"bind-"+this.ref++},matcher:function(a){return a.data("bind")},onChanged:function(b,c){b.$("[data-bind-key]").each(function(){var b=a.$(this),d=b.data(),e=c.get(d.bindKey),f=d.bindKey.split("."),g=window.Backbone.Model.extend({});if(f.length>1)for(var h in f)e="0"===h?new g(c.get(f[h])):e.get(f[h]);if(0===d.bindTo.indexOf("attr-")){var i=d.bindTo.substr(5);b.attr(i,e)}else"INPUT"===b[0].tagName?"checkbox"===b.attr("type")||"radio"===b.attr("type")?b.attr("checked",e||!1):b.val(e):b.html(e)})},run:function(b){var c=a.Deferred(),d=this.app,e=this;if(b.data("bindRef"))return c.resolve().promise();var f=b.hasClass("xin-role")?b:b.parents(".xin-role:not(.xin-layout)"),g=f.data("instance"),h=b.data("bind").trim().split(/\s+/);return _.each(h,function(a){var c,f,h;a=a.split(":"),1===a.length&&(a[1]=a[0],a[0]="val"),"val"==a[0]||0===(a[0]||"").indexOf("attr-")?(e.binding[g.cid]=e.binding[g.cid]||[],g&&g.model&&(f=e.newRef(),b.attr("data-bind-ref",f).attr("data-bind-to",a[0]).attr("data-bind-key",a[1]),h=_.bind(function(){var a=b.val();("checkbox"==b.attr("type")||"radio"==b.attr("type"))&&(a=b.attr("checked")?!0:!1),this.model.set(b.data("bindKey"),a)},g),g.model.on("change",_.partial(e.onChanged,g)),g.events=_.result(g,"events")||{},g.events["change [data-bind-ref="+f+"]"]=h,g.delegateEvents())):(c=a[0],h=a[1],h=g&&g[h]?g[h]:e.app.get(h),_.isFunction(h)&&(f=e.newRef(),b.attr("data-bind-ref",f),g&&g.delegateEvents?(g.events=_.result(g,"events")||{},g.events[c+" [data-bind-ref="+f+"]"]=h,g.delegateEvents()):d.$el.on(c,"[data-bind-ref="+f+"]",h)))}),c.resolve(),c.promise()}}),a.set("xin.directive.BindDirective",b)}(window.xin),function(a){"use strict";var b=function(){this.initialize.apply(this,arguments)};_.extend(b.prototype,{$:function(a){return this.$el.find(a)},initialize:function(b){{var c,d;b.app}this.id=b.id=b.id||"default",this.app=b.app,delete b.id,d=this.$views={},this.$el=c=a.$(b.el),c.addClass("xin-layout"),this.$el.find("[data-region]").addClass(function(){return"xin-region xin-region-"+a.$(this).data("region")}),this.$el.find("[data-role]").each(function(){var b=a.$(this),c=b.data("role");d[c]=b})},initTo:function(a){var b=this.$el.clone();b.find(".xin-region-body").html(a.$el.html()),a.$el.html(b.html()).addClass(b.attr("class")).removeClass("xin-layout")},applyTo:function(b){var c=this.$views;b.$(".xin-region").each(function(){var b=a.$(this);"body"!=b.data("region")&&b.find(".xin-role").each(function(){var b=a.$(this),d=b.data("role"),e=c[d].data("instance");b.data("instance",e),e.setElement(b)})}),b.$el.data("title")&&b.$("[data-region=title]").html(b.$el.data("title"))}}),a.set("xin.ui.Layout",b),Backbone.on("xin-show",function(a){if(a.$el.data("layout")){var b=a.app.get(a.$el.data("layout"));b&&b.applyTo(a)}})}(window.xin),function(a){"use strict";var b=Backbone.View.extend({initialize:function(a){var b,c=a.app;if(this.template=a.template||null,a.layout&&(b=c.get(a.layout),b&&b.initTo(this)),this.$el.addClass("xin-view"),this.render){var d=_.debounce(_.bind(this.render,this),100,!1);this.model&&(this.listenTo(this.model,"change",d),this.listenTo(this.model,"destroy",d)),d()}},render:function(){return this.template&&(this.$el.html(this.template(this)),this.app.directiveManager.scan(this.$el)),this.trigger("rendered"),this}});a.set("xin.ui.Outlet",b)}(window.xin),function(a){"use strict";var b=Backbone.View.extend({}),c=b.extend({initialize:function(a){this.constructor.__super__.initialize.apply(this,arguments),this.transition=a.transition||"plain",this.activePage=null,this.pages={},(!a.app.router.mainViewport||a.mainViewport)&&(a.app.router.mainViewport=this.$el),this.$el.addClass("xin-pane")},addChild:function(a){var b={};return b[a.cid]=a,_.extend(this.pages,b),this.pageKeys=_.keys(this.pages),this.pageValues=_.values(this.pages),a.parent=this,this},showChild:function(b){var c=-1,d=-1,e=a.Deferred();return this.activePage==b?e.resolve().promise():(b&&(c=_.indexOf(this.pageValues,b)),this.activePage&&(d=_.indexOf(this.pageValues,this.activePage)),this.$el.scrollTop(0),a.ui.Pane.transitions[this.transition](this,b,this.activePage,d-c).done(e.resolve),this.activePage=b,e.promise())}});_.extend(c,{transitions:{plain:function(b,c,d){var e=a.Deferred();return d&&d.$el.removeClass("xin-show"),c.$el.addClass("xin-show"),e.resolve(),e.promise()},slide:function(b,c,d,e){var f,g,h,i=a.Deferred();f=0>e?"left":"right",c&&(g=new a.fx.SlideIn(c.$el,f)),d&&(h=new a.fx.SlideOut(d.$el,f));var j=function(){a.$(this).removeClass("xin-show"),_.defer(i.resolve)};if(g){var k=g.play();h||k.then(j)}return h&&h.play().then(j),i.promise()}}}),a.set("xin.ui.Container",b),a.set("xin.ui.Pane",c)}(window.xin),function(a){"use strict";var b=a.ui.Outlet.extend({initialize:function(b){if(this.$el.addClass("xin-list"),this.app=b.app,this.collection){var c,d;b.template?b.template.text?c=b.template.text:(this.itemTemplate=b.template,this.itemAttributes=[],this.itemTagName="li"):(c=a.htmlDecode(this.$el.html()),c||(this.itemTemplate=_.template("<%= model %>"),this.itemAttributes=[],this.itemTagName="li")),c&&(d=a.$(c),this.itemAttributes=d.attr(),this.itemTemplate=_.template(a.htmlDecode(d.html())),this.itemTagName=d[0].tagName.toLowerCase()),this.itemAttributes["data-role"]=this.itemAttributes["data-role"]||"list-item",this.listenTo(this.collection,"reset",this.reset),this.listenTo(this.collection,"add",this.add),this.listenTo(this.collection,"remove",this.remove),this.reset()}},reset:function(){var a=this;this.$el.html(""),_.each(this.collection.models,function(b){a.add(b)})},add:function(b){var c=a.$("<"+this.itemTagName+"/>").attr(this.itemAttributes).data({template:this.itemTemplate,model:b}).addClass("xin-list-item");this.$el.append(c),this.app.directiveManager.scan(c)},remove:function(){}});b.Item=a.ui.Outlet.extend({}),a.set("xin.ui.List",b)}(window.xin),function(a){"use strict";var b=a.ui.Outlet.extend({initialize:function(){this.constructor.__super__.initialize.apply(this,arguments),this.$el.addClass("xin-drawer").css("-webkit-transform","translateX(-100%)"),this.$el.on("click","a",_.bind(this.clicked,this)),$(document).on("mouseup",_.bind(this.mouseUp,this))},show:function(){this.$el.css("-webkit-transform","")},hide:function(){this.$el.css("-webkit-transform","translateX(-100%)")},mouseUp:function(a){var b=$("[data-layout=drawer]");b.is(a.target)||0!==b.has(a.target).length||this.hide()},clicked:function(){this.hide()}});a.set("xin.ui.Drawer",b)}(window.xin),function(a){"use strict";var b=a.ui.Outlet.extend({initialize:function(){this.constructor.__super__.initialize.apply(this,arguments),this.$el.addClass("xin-navbar")}});a.set("xin.ui.Navbar",b)}(window.xin);