{"version":3,"sources":["webpack:///./components/view.js","webpack:///./components/view.css?1673","webpack:///./components/view.css"],"names":["SETUP_TRANSITION","setup","get","View","classList","add","remove","transitionFx","Fx","parentElement","__app","route","uri","focus","bind","fire","focusing","apply","arguments","focused","async","parameters","set","setFocus","forEach","call","children","element","setVisible","blurred","visible","querySelectorAll","el","type","String","required","transition","value","blur","Component","define"],"mappings":"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","file":"components/view.js","sourcesContent":["import xin from '../src';\n\nimport './view.css';\n\nconst SETUP_TRANSITION = xin.setup.get('xin.View.transition') || 'transition-slide';\n\nclass View extends xin.Component {\n  get props () {\n    return {\n      uri: {\n        type: String,\n        required: true,\n      },\n      transition: {\n        type: String,\n        value: SETUP_TRANSITION,\n      },\n    };\n  }\n\n  get listeners () {\n    return {\n      focusing: '__focusing',\n      focus: '__focused',\n      blur: '__blurred',\n    };\n  }\n\n  created () {\n    this.classList.add('xin-view');\n  }\n\n  attached () {\n    this.classList.remove('xin-view--focus');\n    this.classList.remove('xin-view--visible');\n\n    this.transitionFx = new xin.Fx(this);\n\n    if (this.parentElement.add) {\n      this.parentElement.add(this);\n    }\n\n    this.__app.route(this.uri, this.focus.bind(this));\n    this.fire('routed');\n  }\n\n  __focusing () {\n    if (typeof this.focusing === 'function') {\n      return this.focusing.apply(this, arguments);\n    }\n  }\n\n  __focused () {\n    if (typeof this.focused === 'function') {\n      this.async(() => this.focused(...arguments));\n    }\n  }\n\n  focus (parameters) {\n    this.set('parameters', parameters || {});\n\n    this.fire('focusing');\n\n    if (this.parentElement.setFocus) {\n      this.parentElement.setFocus(this);\n    } else {\n      [].forEach.call(this.parentElement.children, element => {\n        if (element.setFocus) {\n          element.setFocus(false);\n          element.setVisible(false);\n        }\n      });\n\n      if (this.setFocus) {\n        this.setFocus(true);\n        this.setVisible(true);\n      }\n    }\n  }\n\n  __blurred () {\n    if (typeof this.blurred === 'function') {\n      return this.blurred.apply(this, arguments);\n    }\n  }\n\n  setVisible (visible) {\n    this.classList[visible ? 'add' : 'remove']('xin-view--visible');\n\n    this.fire(visible ? 'show' : 'hide');\n\n    if (!visible) {\n      [].forEach.call(this.querySelectorAll('.xin-view-behavior.xin-view--visible'), el => el.setVisible(visible));\n    }\n  }\n\n  setFocus (focus) {\n    this.classList[focus ? 'add' : 'remove']('xin-view--focus');\n\n    this.fire(focus ? 'focus' : 'blur');\n\n    if (!focus) {\n      [].forEach.call(this.querySelectorAll('.xin-view-behavior.xin-view--focus'), el => {\n        if (el.parentElement.setFocus) {\n          el.parentElement.setFocus(null);\n        } else {\n          el.setFocus(focus);\n        }\n      });\n    }\n  }\n}\n\nxin.define('xin-view', View);\n\nexport default View;\n\n\n\n// WEBPACK FOOTER //\n// ./components/view.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./view.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./view.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./view.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/view.css\n// module id = 26\n// module chunks = 3","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".xin-view {\\n  box-sizing: border-box;\\n  display: none;\\n}\\n\\n.xin-view.xin-view--visible {\\n  display: block;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./components/view.css\n// module id = 27\n// module chunks = 3"],"sourceRoot":""}