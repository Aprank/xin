{"version":3,"sources":["webpack:///./components/css/view.css?b3c1","webpack:///./components/css/view.css","webpack:///./components/view.js"],"names":["SETUP_TRANSITION","setup","get","View","classList","add","transitionFx","Fx","remove","__app","route","uri","focus","parameters","fire","set","focusing","async","parentElement","setFocus","setVisible","visible","forEach","call","querySelectorAll","el","focused","blurred","type","String","required","transition","value","index","Number","Component","define"],"mappings":"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","file":"components/view.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./view.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./view.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./view.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/css/view.css\n// module id = 13\n// module chunks = 0","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".xin-view {\\n  -webkit-backface-visibility: hidden;\\n  backface-visibility: hidden;\\n  box-sizing: border-box;\\n  display: none;\\n}\\n\\n.xin-view.xin-view--visible {\\n  display: block;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./components/css/view.css\n// module id = 25\n// module chunks = 0","import xin from '../src';\nimport './css/view.css';\n\nconst SETUP_TRANSITION = xin.setup.get('xin.View.transition') || 'slide';\n\nclass View extends xin.Component {\n  get props () {\n    return {\n      uri: {\n        type: String,\n        required: true,\n      },\n      transition: {\n        type: String,\n        value: SETUP_TRANSITION,\n      },\n      index: {\n        type: Number,\n        value: 0,\n      },\n    };\n  }\n\n  focusing () {}\n\n  focused () {}\n\n  blurred () {}\n\n  created () {\n    super.created();\n\n    this.classList.add('xin-view');\n  }\n\n  ready () {\n    super.ready();\n\n    this.transitionFx = new xin.Fx(this);\n  }\n\n  attached () {\n    super.attached();\n\n    this.classList.remove('xin-view--focus');\n    this.classList.remove('xin-view--visible');\n\n    this.__app.route(this.uri, parameters => this.focus(parameters));\n    this.fire('routed');\n  }\n\n  focus (parameters) {\n    this.set('parameters', parameters || {});\n\n    this.focusing(parameters);\n    this.fire('focusing', parameters);\n\n    this.async(() => {\n      if ('setFocus' in this.parentElement) {\n        this.parentElement.setFocus(this);\n      } else {\n        this.setVisible(true);\n        this.setFocus(true);\n      }\n    });\n  }\n\n  setVisible (visible) {\n    if (visible) {\n      this.classList.add('xin-view--visible');\n\n      this.fire('show');\n    } else {\n      this.classList.remove('xin-view--visible');\n      [].forEach.call(this.querySelectorAll('.xin-view.xin-view--visible'), el => el.setVisible(visible));\n\n      this.fire('hide');\n    }\n  }\n\n  setFocus (focus) {\n    if (focus) {\n      this.classList.add('xin-view--focus');\n\n      this.focused();\n      this.fire('focus');\n    } else {\n      this.classList.remove('xin-view--focus');\n      [].forEach.call(this.querySelectorAll('.xin-view.xin-view--focus'), el => {\n        if ('setFocus' in el.parentElement) {\n          el.parentElement.setFocus(null);\n        } else {\n          el.setFocus(focus);\n        }\n      });\n\n      this.blurred();\n      this.fire('blur');\n    }\n  }\n}\n\nxin.define('xin-view', View);\n\nexport default View;\n\n\n\n// WEBPACK FOOTER //\n// ./components/view.js"],"sourceRoot":""}