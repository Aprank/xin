{"version":3,"sources":["webpack:///./components/view.js","webpack:///./components/view.css?1673","webpack:///./components/view.css"],"names":["SETUP_TRANSITION","setup","get","View","classList","add","transitionFx","Fx","remove","parentElement","__app","route","uri","focus","bind","fire","parameters","set","focusing","async","setFocus","setVisible","visible","forEach","call","querySelectorAll","el","focused","blurred","type","String","required","transition","value","Component","define"],"mappings":";;;;;;;;;;;;;;;AAAA;;;;AAEA;;;;;;;;;;AAEA,KAAMA,mBAAmB,cAAIC,KAAJ,CAAUC,GAAV,CAAc,qBAAd,KAAwC,kBAAjE;;KAEMC,I;;;;;;;;;;;;;AAcJ;AACA;AACA;AACA;AACA;AACA;AACA;;gCAEY,CAAE;;;+BAEH,CAAE;;;+BAEF,CAAE;;;+BAEF;AACT;;AAEA,YAAKC,SAAL,CAAeC,GAAf,CAAmB,UAAnB;AACD;;;6BAEQ;AACP;;AAEA,YAAKC,YAAL,GAAoB,IAAI,cAAIC,EAAR,CAAW,IAAX,CAApB;AACD;;;gCAEW;AACV;;AAEA,YAAKH,SAAL,CAAeI,MAAf,CAAsB,iBAAtB;AACA,YAAKJ,SAAL,CAAeI,MAAf,CAAsB,mBAAtB;;AAEA,WAAI,SAAS,KAAKC,aAAlB,EAAiC;AAC/B,cAAKA,aAAL,CAAmBJ,GAAnB,CAAuB,IAAvB;AACD;;AAED,YAAKK,KAAL,CAAWC,KAAX,CAAiB,KAAKC,GAAtB,EAA2B,KAAKC,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAA3B;AACA,YAAKC,IAAL,CAAU,QAAV;AACD;;;2BAEMC,U,EAAY;AAAA;;AACjB,YAAKC,GAAL,CAAS,YAAT,EAAuBD,cAAc,EAArC;;AAEA,YAAKE,QAAL;AACA,YAAKH,IAAL,CAAU,UAAV;;AAEA,YAAKI,KAAL,CAAW,YAAM;AACf,aAAI,cAAc,OAAKV,aAAvB,EAAsC;AACpC,kBAAKA,aAAL,CAAmBW,QAAnB;AACD,UAFD,MAEO;AACL,kBAAKA,QAAL,CAAc,IAAd;AACA,kBAAKC,UAAL,CAAgB,IAAhB;AACD;AACF,QAPD;AAQD;;;gCAEWC,O,EAAS;AACnB,WAAIA,OAAJ,EAAa;AACX,cAAKlB,SAAL,CAAeC,GAAf,CAAmB,mBAAnB;AACA,cAAKU,IAAL,CAAU,MAAV;AACD,QAHD,MAGO;AACL,cAAKX,SAAL,CAAeI,MAAf,CAAsB,mBAAtB;AACA,cAAKO,IAAL,CAAU,MAAV;;AAEA,YAAGQ,OAAH,CAAWC,IAAX,CAAgB,KAAKC,gBAAL,CAAsB,6BAAtB,CAAhB,EAAsE;AAAA,kBAAMC,GAAGL,UAAH,CAAcC,OAAd,CAAN;AAAA,UAAtE;AACD;AACF;;;8BAEST,K,EAAO;AACf,WAAIA,KAAJ,EAAW;AACT,cAAKT,SAAL,CAAeC,GAAf,CAAmB,iBAAnB;AACA,cAAKsB,OAAL;AACA,cAAKZ,IAAL,CAAU,OAAV;AACD,QAJD,MAIO;AACL,cAAKX,SAAL,CAAeI,MAAf,CAAsB,iBAAtB;AACA,cAAKoB,OAAL;AACA,cAAKb,IAAL,CAAU,MAAV;;AAEA,YAAGQ,OAAH,CAAWC,IAAX,CAAgB,KAAKC,gBAAL,CAAsB,2BAAtB,CAAhB,EAAoE,cAAM;AACxE,eAAI,cAAcC,GAAGjB,aAArB,EAAoC;AAClCiB,gBAAGjB,aAAH,CAAiBW,QAAjB,CAA0B,IAA1B;AACD,YAFD,MAEO;AACLM,gBAAGN,QAAH,CAAYP,KAAZ;AACD;AACF,UAND;AAOD;AACF;;;yBAnGY;AACX,cAAO;AACLD,cAAK;AACHiB,iBAAMC,MADH;AAEHC,qBAAU;AAFP,UADA;AAKLC,qBAAY;AACVH,iBAAMC,MADI;AAEVG,kBAAOjC;AAFG;AALP,QAAP;AAUD;;;;GAZgB,cAAIkC,S;;AAuGvB,eAAIC,MAAJ,CAAW,UAAX,EAAuBhC,IAAvB;;mBAEeA,I;;;;;;;AC/Gf;;AAEA;AACA;AACA;AACA;AACA,iDAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;ACpBA;AACA;;;AAGA;AACA,sCAAqC,2BAA2B,kBAAkB,GAAG,iCAAiC,mBAAmB,GAAG;;AAE5I","file":"components/view.js","sourcesContent":["import xin from '../src';\n\nimport './view.css';\n\nconst SETUP_TRANSITION = xin.setup.get('xin.View.transition') || 'transition-slide';\n\nclass View extends xin.Component {\n  get props () {\n    return {\n      uri: {\n        type: String,\n        required: true,\n      },\n      transition: {\n        type: String,\n        value: SETUP_TRANSITION,\n      },\n    };\n  }\n\n  // get listeners () {\n  //   return {\n  //     focusing: 'focusing(evt)',\n  //     focus: 'focused(evt)',\n  //     blur: 'blurred(evt)',\n  //   };\n  // }\n\n  focusing () {}\n\n  focused () {}\n\n  blurred () {}\n\n  created () {\n    super.created();\n\n    this.classList.add('xin-view');\n  }\n\n  ready () {\n    super.ready();\n\n    this.transitionFx = new xin.Fx(this);\n  }\n\n  attached () {\n    super.attached();\n\n    this.classList.remove('xin-view--focus');\n    this.classList.remove('xin-view--visible');\n\n    if ('add' in this.parentElement) {\n      this.parentElement.add(this);\n    }\n\n    this.__app.route(this.uri, this.focus.bind(this));\n    this.fire('routed');\n  }\n\n  focus (parameters) {\n    this.set('parameters', parameters || {});\n\n    this.focusing();\n    this.fire('focusing');\n\n    this.async(() => {\n      if ('setFocus' in this.parentElement) {\n        this.parentElement.setFocus(this);\n      } else {\n        this.setFocus(true);\n        this.setVisible(true);\n      }\n    });\n  }\n\n  setVisible (visible) {\n    if (visible) {\n      this.classList.add('xin-view--visible');\n      this.fire('show');\n    } else {\n      this.classList.remove('xin-view--visible');\n      this.fire('hide');\n\n      [].forEach.call(this.querySelectorAll('.xin-view.xin-view--visible'), el => el.setVisible(visible));\n    }\n  }\n\n  setFocus (focus) {\n    if (focus) {\n      this.classList.add('xin-view--focus');\n      this.focused();\n      this.fire('focus');\n    } else {\n      this.classList.remove('xin-view--focus');\n      this.blurred();\n      this.fire('blur');\n\n      [].forEach.call(this.querySelectorAll('.xin-view.xin-view--focus'), el => {\n        if ('setFocus' in el.parentElement) {\n          el.parentElement.setFocus(null);\n        } else {\n          el.setFocus(focus);\n        }\n      });\n    }\n  }\n}\n\nxin.define('xin-view', View);\n\nexport default View;\n\n\n\n// WEBPACK FOOTER //\n// ./components/view.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./view.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./view.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./view.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/view.css\n// module id = 25\n// module chunks = 3","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".xin-view {\\n  box-sizing: border-box;\\n  display: none;\\n}\\n\\n.xin-view.xin-view--visible {\\n  display: block;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./components/view.css\n// module id = 26\n// module chunks = 3"],"sourceRoot":""}