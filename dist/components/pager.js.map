{"version":3,"sources":["webpack:///./components/css/pager.css?b6f5","webpack:///./components/css/pager.css","webpack:///./components/pager.js"],"names":["Pager","el","firstElementChild","i","nextElementSibling","set","setAttribute","element","index","oldIndex","focused$","__transitionForward","__transitionBackward","setFocus","prevEl","nextEl","Promise","all","transitionFx","play","then","setVisible","$focused","stop","Fx","Component","define"],"mappings":"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","file":"components/pager.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./pager.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./pager.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./pager.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/css/pager.css\n// module id = 12\n// module chunks = 1","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"xin-pager {\\n  box-sizing: border-box;\\n  display: block;\\n  position: relative;\\n  overflow: hidden;\\n}\\n\\nxin-pager .xin-view {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./components/css/pager.css\n// module id = 24\n// module chunks = 1","import xin from '../src';\n\nimport './css/pager.css';\n\nclass Pager extends xin.Component {\n  ready () {\n    super.ready();\n\n    for (let el = this.firstElementChild, i = 0; el; el = el.nextElementSibling, i++) {\n      if ('set' in el) {\n        el.set('index', i);\n      } else {\n        el.setAttribute('index', i);\n      }\n    }\n  }\n\n  setFocus (element) {\n    if (element) {\n      let index = element.index;\n      let oldIndex = this.focused$ ? this.focused$.index : -1;\n      if (oldIndex < index) {\n        this.__transitionForward(this.focused$, element);\n      } else if (oldIndex > index) {\n        this.__transitionBackward(this.focused$, element);\n      }\n    } else if (this.focused$) {\n      this.focused$.setFocus(false);\n    }\n\n    this.focused$ = element;\n  }\n\n  __transitionBackward (prevEl, nextEl) {\n    Promise.all([\n      prevEl.transitionFx.play('out', -1),\n      nextEl.transitionFx.play('in', -1),\n    ]).then(() => {\n      prevEl.setVisible(false);\n      nextEl.setVisible(true);\n      prevEl.setFocus(false);\n      nextEl.setFocus(true);\n      this.$focused = nextEl;\n\n      prevEl.transitionFx.stop();\n      nextEl.transitionFx.stop();\n    });\n  }\n\n  __transitionForward (prevEl, nextEl) {\n    if (prevEl) {\n      Promise.all([\n        nextEl.transitionFx.play('in', 1),\n        prevEl.transitionFx.play('out', 1),\n      ]).then(() => {\n        prevEl.setVisible(false);\n        nextEl.setVisible(true);\n        prevEl.setFocus(false);\n        nextEl.setFocus(true);\n        this.$focused = nextEl;\n\n        prevEl.transitionFx.stop();\n        nextEl.transitionFx.stop();\n      });\n    } else {\n      (new xin.Fx(nextEl, 'none')).play('in', 1).then(() => {\n        nextEl.setVisible(true);\n        nextEl.setFocus(true);\n        this.$focused = nextEl;\n\n        nextEl.transitionFx.stop();\n      });\n    }\n  }\n}\n\nxin.define('xin-pager', Pager);\n// xin.Pager = Pager;\n\nexport default Pager;\n\n\n\n// WEBPACK FOOTER //\n// ./components/pager.js"],"sourceRoot":""}