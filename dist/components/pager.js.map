{"version":3,"sources":["webpack:///./components/pager.js","webpack:///./components/pager.css?d4ac","webpack:///./components/pager.css"],"names":["Pager","element","views","push","index","indexOf","oldIndex","focused$","__transitionForward","__transitionBackward","setFocus","prevEl","nextEl","Promise","all","transitionFx","play","then","setVisible","async","$focused","Fx","Component","define"],"mappings":";;;;;;;;;;;;;AAAA;;;;AAEA;;;;;;;;;;KAEMA,K;;;;;;;;;;;yBACCC,O,EAAS;AACZ,YAAKC,KAAL,GAAa,KAAKA,KAAL,IAAc,EAA3B;AACA,YAAKA,KAAL,CAAWC,IAAX,CAAgBF,OAAhB;AACD;;;8BAESA,O,EAAS;AACjB,WAAIA,OAAJ,EAAa;AACX,aAAIG,QAAQ,KAAKF,KAAL,CAAWG,OAAX,CAAmBJ,OAAnB,CAAZ;AACA,aAAIK,WAAW,CAAC,CAAhB;AACA,aAAI,KAAKC,QAAT,EAAmB;AACjBD,sBAAW,KAAKJ,KAAL,CAAWG,OAAX,CAAmB,KAAKE,QAAxB,CAAX;AACD;;AAED,aAAID,WAAWF,KAAf,EAAsB;AACpB,gBAAKI,mBAAL,CAAyB,KAAKD,QAA9B,EAAwCN,OAAxC;AACD,UAFD,MAEO,IAAIK,WAAWF,KAAf,EAAsB;AAC3B,gBAAKK,oBAAL,CAA0B,KAAKF,QAA/B,EAAyCN,OAAzC;AACD;AACF,QAZD,MAYO,IAAI,KAAKM,QAAT,EAAmB;AACxB,cAAKA,QAAL,CAAcG,QAAd,CAAuB,KAAvB;AACD;;AAED,YAAKH,QAAL,GAAgBN,OAAhB;AACD;;;0CAEqBU,M,EAAQC,M,EAAQ;AAAA;;AACpCC,eAAQC,GAAR,CAAY,CACVH,OAAOI,YAAP,CAAoBC,IAApB,CAAyB,KAAzB,EAAgC,CAAC,CAAjC,CADU,EAEVJ,OAAOG,YAAP,CAAoBC,IAApB,CAAyB,IAAzB,EAA+B,CAAC,CAAhC,CAFU,CAAZ,EAGGC,IAHH,CAGQ,YAAM;AACZN,gBAAOO,UAAP,CAAkB,KAAlB;AACAP,gBAAOD,QAAP,CAAgB,KAAhB;AACA,gBAAKS,KAAL,CAAW,YAAM;AACfP,kBAAOM,UAAP,CAAkB,IAAlB;AACAN,kBAAOF,QAAP,CAAgB,IAAhB;AACA,kBAAKU,QAAL,GAAgBR,MAAhB;AACD,UAJD;AAKD,QAXD;AAYD;;;yCAEoBD,M,EAAQC,M,EAAQ;AAAA;;AACnC,WAAID,MAAJ,EAAY;AACVE,iBAAQC,GAAR,CAAY,CACVH,OAAOI,YAAP,CAAoBC,IAApB,CAAyB,KAAzB,EAAgC,CAAhC,CADU,EAEVJ,OAAOG,YAAP,CAAoBC,IAApB,CAAyB,IAAzB,EAA+B,CAA/B,CAFU,CAAZ,EAGGC,IAHH,CAGQ,YAAM;AACZN,kBAAOO,UAAP,CAAkB,KAAlB;AACAP,kBAAOD,QAAP,CAAgB,KAAhB;AACA,kBAAKS,KAAL,CAAW,YAAM;AACfP,oBAAOM,UAAP,CAAkB,IAAlB;AACAN,oBAAOF,QAAP,CAAgB,IAAhB;AACA,oBAAKU,QAAL,GAAgBR,MAAhB;AACD,YAJD;AAKD,UAXD;AAYD,QAbD,MAaO;AACJ,aAAI,cAAIS,EAAR,CAAWT,MAAX,EAAmB,MAAnB,CAAD,CAA6BI,IAA7B,CAAkC,IAAlC,EAAwC,CAAxC,EAA2CC,IAA3C,CAAgD,YAAM;AACpDL,kBAAOM,UAAP,CAAkB,IAAlB;AACAN,kBAAOF,QAAP,CAAgB,IAAhB;AACA,kBAAKU,QAAL,GAAgBR,MAAhB;AACD,UAJD;AAKD;AACF;;;;GA9DiB,cAAIU,S;;AAiExB,eAAIC,MAAJ,CAAW,WAAX,EAAwBvB,KAAxB;AACA,eAAIA,KAAJ,GAAYA,KAAZ;;mBAEeA,K;;;;;;;ACxEf;;AAEA;AACA;AACA;AACA;AACA,iDAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;ACpBA;AACA;;;AAGA;AACA,sCAAqC,2BAA2B,mBAAmB,uBAAuB,qBAAqB,GAAG,yBAAyB,uBAAuB,WAAW,YAAY,gBAAgB,iBAAiB,GAAG;;AAE7O","file":"components/pager.js","sourcesContent":["import xin from '../src';\n\nimport './pager.css';\n\nclass Pager extends xin.Component {\n  add (element) {\n    this.views = this.views || [];\n    this.views.push(element);\n  }\n\n  setFocus (element) {\n    if (element) {\n      var index = this.views.indexOf(element);\n      var oldIndex = -1;\n      if (this.focused$) {\n        oldIndex = this.views.indexOf(this.focused$);\n      }\n\n      if (oldIndex < index) {\n        this.__transitionForward(this.focused$, element);\n      } else if (oldIndex > index) {\n        this.__transitionBackward(this.focused$, element);\n      }\n    } else if (this.focused$) {\n      this.focused$.setFocus(false);\n    }\n\n    this.focused$ = element;\n  }\n\n  __transitionBackward (prevEl, nextEl) {\n    Promise.all([\n      prevEl.transitionFx.play('out', -1),\n      nextEl.transitionFx.play('in', -1),\n    ]).then(() => {\n      prevEl.setVisible(false);\n      prevEl.setFocus(false);\n      this.async(() => {\n        nextEl.setVisible(true);\n        nextEl.setFocus(true);\n        this.$focused = nextEl;\n      });\n    });\n  }\n\n  __transitionForward (prevEl, nextEl) {\n    if (prevEl) {\n      Promise.all([\n        prevEl.transitionFx.play('out', 1),\n        nextEl.transitionFx.play('in', 1),\n      ]).then(() => {\n        prevEl.setVisible(false);\n        prevEl.setFocus(false);\n        this.async(() => {\n          nextEl.setVisible(true);\n          nextEl.setFocus(true);\n          this.$focused = nextEl;\n        });\n      });\n    } else {\n      (new xin.Fx(nextEl, 'none')).play('in', 1).then(() => {\n        nextEl.setVisible(true);\n        nextEl.setFocus(true);\n        this.$focused = nextEl;\n      });\n    }\n  }\n}\n\nxin.define('xin-pager', Pager);\nxin.Pager = Pager;\n\nexport default Pager;\n\n\n\n// WEBPACK FOOTER //\n// ./components/pager.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./pager.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./pager.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./pager.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/pager.css\n// module id = 24\n// module chunks = 1","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"xin-pager {\\n  box-sizing: border-box;\\n  display: block;\\n  position: relative;\\n  overflow: hidden;\\n}\\n\\nxin-pager .xin-view {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./components/pager.css\n// module id = 25\n// module chunks = 1"],"sourceRoot":""}