{"version":3,"sources":["webpack:///webpack/bootstrap 4b7adacc0c8bd01dfbcf?78f8*","webpack:///./~/template-binding/accessors/base.js?b9b3*","webpack:///./~/template-binding/expr.js?4493*","webpack:///./repository.js?ec38*","webpack:///./setup.js?b44a*","webpack:///./~/template-binding/accessor.js?d48e*","webpack:///./~/event-helper/index.js?2cad*","webpack:///./~/function-helper/async.js?1e1a*","webpack:///./~/inflector/index.js?a093*","webpack:///./component.js?cce9*","webpack:///./index.js?2645*","webpack:///./notify-annotation.js?211c*","webpack:///./~/template-binding/accessors/attribute.js?f646*","webpack:///./~/template-binding/accessors/class.js?41db*","webpack:///./~/template-binding/accessors/html.js?19a4*","webpack:///./~/template-binding/accessors/property.js?2cc9*","webpack:///./~/template-binding/accessors/style.js?1502*","webpack:///./~/template-binding/accessors/text.js?bf48*","webpack:///./~/template-binding/accessors/value.js?0144*","webpack:///./~/template-binding/annotation.js?c727*","webpack:///./~/template-binding/binding.js?4517*","webpack:///./~/template-binding/filter.js?607e*","webpack:///./~/template-binding/helpers/slot.js?732f*","webpack:///./~/template-binding/helpers/template.js?05d7*","webpack:///./~/template-binding/index.js?ce96*","webpack:///./~/template-binding/token.js?fea9*","webpack:///./~/function-helper/debounce.js?6ad9*","webpack:///./~/function-helper/index.js?94e6*","webpack:///./~/inflector/camelize.js?689b*","webpack:///./~/inflector/dashify.js?9156*","webpack:///./~/object-helper/index.js?eb23*","webpack:///./~/object-helper/val.js?02a0*","webpack:///./~/serializer/deserialize.js?bdec*","webpack:///./~/serializer/index.js?fe44*","webpack:///./~/serializer/serialize.js?d5b8*"],"names":["BaseAccessor","constructor","node","name","set","value","get","CACHE","_get","mode","type","cache","expr","Expr","unwrapped","trim","slice","getFn","args","indexOf","join","rawTokenize","str","count","tokens","matches","match","substr","length","push","tokenize","map","token","Token","filters","split","word","Filter","fn","constant","vpaths","_vpaths","paths","forEach","arg","invoke","context","otherArgs","val","reduce","filter","__templateHost","REPOSITORY","id","isNaN","idSplitted","scope","window","find","put","Setup","obj","Object","assign","key","xin","setup","nodeType","Node","ELEMENT_NODE","endsWith","nodeName","startsWith","splice","TEXT_NODE","parentElement","Error","nextId","baseComponents","base","BaseElement","useCustomElements","prototype","create","Component","is","toLowerCase","createdCallback","$","getElementsByTagName","created","ready","attached","detached","console","info","__id","__initData","__initTemplate","__initProps","__initListeners","async","readyCallback","__componentReady","__initPropValues","contentFragment","__template","document","createDocumentFragment","call","childNodes","__templateMarker","appendChild","__templateRender","__componentAttaching","attachedCallback","notify","hasAttribute","setAttribute","detachedCallback","connectedCallback","disconnectedCallback","__app","__app$","__appSignature","app","__global","__setup","__componentContent","__componentDebouncers","__componentNotifiers","__componentInitialPropValues","__componentNotifiedProps","props","__getProps","propName","property","attrName","dashify","accessor","Accessor","computed","__templateAnnotate","attrVal","getAttribute","deserialize","__templateGetBinding","annotate","__templateModel","observer","_props","propValue","isUndefinedPropValue","required","undefined","__isNotified","template","childElementCount","firstElementChild","removeChild","createElement","innerHTML","__templateInitialize","listeners","keys","meta","parseListenerMetadata","selector","on","eventName","evt","__addNotifier","element","target","stopImmediatePropagation","__componentNotifyKey","__componentNotifyAccessor","__removeNotifier","off","fire","detail","options","event","callback","waitTime","start","debounce","job","wait","immediate","debouncer","running","cancel","nextFrame","Async","bind","T","HTMLElement","startNotify","inputType","tproto","hasOwnProperty","splitted","metadata","customElementsVersion","define","ElementClass","warn","customElements","ElementPrototype","extends","registerElement","NotifyAnnotation","model","effect","AttributeAccessor","removeAttribute","ClassAccessor","classList","add","remove","HTMLAccessor","PropertyAccessor","camelize","StyleAccessor","style","TextAccessor","textContent","ValueAccessor","activeElement","Annotation","Binding","annotations","annotation","walkEffect","i","apply","registry","segments","pop","string","String","number","Number","boolean","Boolean","default","defVal","upper","toUpperCase","lower","not","begin","end","Array","json","indent","JSON","stringify","consoleTrace","trace","consoleLog","log","consoleInfo","consoleWarn","consoleError","error","currency","toFixed","replace","SLOT_SUPPORTED","HTMLUnknownElement","slotName","fix","content","HTMLTemplateElement","decorate","needFixImportNode","__importNode","imported","importNode","firstChild","deep","sourceTpls","querySelectorAll","child","host","marker","$$","querySelector","promised","Promise","resolve","once","eventHelper","arguments","all","path","object","__templateGetPathAsArray","some","segment","oldValue","values","isArray","result","index","removeCount","__templateGetPathAsString","__templateReady","__templateNotifyOnReady","binding","__templateId","__templateBindings","__templateChildNodes","__templateFragment","__parseAnnotations","createComment","fragment","DocumentFragment","slot","parent","insertBefore","__templateUninitialize","len","__parseElementAnnotations","__parseTextAnnotations","__parseEventAnnotations","attrValue","__parseAttributeAnnotations","annotated","attributes","attr","childNodesLength","__parseNodeAnnotations","bindings","contextName","baseName","_value","parse","err","nameSegments","contexts","ctx"],"mappings":"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;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,qDAAqD;AACtE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAa,aAAa;AAC1B;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,kCAAkC,GAAG;AACrC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;;;;;ACraA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACjF6B;AACC;;;;;;;;;;;;;;;;;;;;;;;;ACD9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,MAAM0E,SAAU,YAAY;AAC1B,MAAIxB,KAAK,CAAT;AACA,SAAO,YAAY;AACjB,WAAOA,IAAP;AACD,GAFD;AAGD,CALc,EAAf;;AAOA,IAAIyB,iBAAiB,EAArB;;AAEA,SAASC,IAAT,CAAeA,IAAf,EAAqB;AACnB,MAAID,eAAeC,IAAf,CAAJ,EAA0B;AACxB,WAAOD,eAAeC,IAAf,CAAP;AACD;;AAED,MAAIC,WAAJ;AACA,MAAIC,mBAAJ,EAAyB;AACvBD,kBAAcvB,OAAOsB,IAAP,CAAd;AACD,GAFD,MAEO;AACLC,kBAAc,YAAY,CAAE,CA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,CAAN;AACD;AAlFS;;AAqFZ,wDAAe8B,KAAf,C;;;;;;;;ACvFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC/B2B;AACG;;;;;;;;ACD9B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;ACpBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;AChBA;;AAEQ;;;;;;;;;ACFR;AACA;AACA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kCAAkC;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChDA;AACA;;AAEQ;;;;;;;;ACHR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"xin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4b7adacc0c8bd01dfbcf","class BaseAccessor {\n  constructor (node, name) {\n    this.node = node;\n    this.name = name;\n  }\n\n  set (value) {\n    if (typeof this.node.set === 'function') {\n      this.node.set(this.name, value);\n    } else {\n      this.node[this.name] = value;\n    }\n  }\n\n  get () {\n    if (typeof this.node.get === 'function') {\n      return this.node.get(this.name);\n    } else {\n      return this.node[this.name];\n    }\n  }\n}\n\nexport default BaseAccessor;\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/accessors/base.js","import Token from './token';\nimport Filter from './filter';\n\nconst CACHE = {\n  's': {\n    '[': {},\n    '{': {},\n  },\n  'v': {\n    '[': {},\n    '{': {},\n  },\n};\n\nfunction _get (value, mode, type) {\n  let cache = CACHE[type][mode];\n  if (value in cache) {\n    return cache[value];\n  }\n\n  let expr = new Expr(value, mode, type);\n  if (type !== 's') {\n    cache[value] = expr;\n  }\n\n  return expr;\n}\n\nclass Expr {\n  static get CACHE () {\n    return CACHE;\n  }\n\n  static get (value, unwrapped) {\n    value = (value || '').trim();\n\n    if (unwrapped) {\n      return _get(value, '[', 'v');\n    }\n\n    let mode = value[0];\n    if ((mode === '[' || mode === '{') && value[1] === mode) {\n      value = value.slice(2, -2).trim();\n      return _get(value, mode, 'v');\n    }\n\n    return _get(value, '[', 's');\n  }\n\n  static getFn (value, args, unwrapped) {\n    return Expr.get(value.indexOf('(') === -1 ? `${value}(${args.join(', ')})` : value, unwrapped);\n  }\n\n  static rawTokenize (str) {\n    let count = 0;\n    let tokens = [];\n\n    while (str && count++ < 10) {\n      let matches = str.match(/^\\s*(\"[^\"]*\"|[^,]+),?/);\n\n      str = str.substr(matches[0].length);\n      tokens.push(matches[1].trim());\n    }\n\n    return tokens;\n  }\n\n  static tokenize (str) {\n    return Expr.rawTokenize(str).map(token => Token.get(token));\n  }\n\n  constructor (value, mode, type) {\n    // define base properties\n    this.mode = mode;\n    this.type = type;\n    this.name = '';\n    this.args = [];\n    this.filters = [];\n    this.value = value;\n\n    if (type === 's') {\n      return;\n    }\n\n    let tokens = value.split('|');\n    let token = tokens[0].trim();\n\n    this.filters = tokens.slice(1).map(word => {\n      return Filter.get(word.trim());\n    });\n\n    if (token.indexOf('(') < 0) {\n      this.type = 'p';\n      this.name = token;\n      this.args.push(Token.get(token));\n    } else {\n      // force mode to '[' when type is !p\n      this.mode = '[';\n      this.type = 'm';\n\n      let matches = token.match(/([^(]+)\\(([^)]*)\\)/);\n\n      this.name = matches[1].trim();\n      this.fn = Token.get(this.name);\n\n      this.args = Expr.tokenize(matches[2]);\n    }\n  }\n\n  get constant () {\n    return this.type !== 'm' && this.vpaths.length !== this.args.length;\n  }\n\n  get vpaths () {\n    if (!this._vpaths) {\n      let paths = [];\n      this.args.forEach(arg => {\n        if (arg.type === 'v' && paths.indexOf(arg.name) === -1) {\n          paths.push(arg);\n        }\n      });\n      this._vpaths = paths;\n    }\n\n    return this._vpaths;\n  }\n\n  invoke (context, otherArgs) {\n    if (this.type === 'p') {\n      let val = this.args[0].value(context, otherArgs);\n      return this.filters.reduce((val, filter) => filter.invoke(val), val);\n    }\n\n    let args = this.args.map(arg => {\n      return arg.value(context, otherArgs);\n    });\n\n    return this.fn.invoke(args, context, context.__templateHost);\n  }\n}\n\nexport default Expr;\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/expr.js","const REPOSITORY = {};\n\nfunction get (id) {\n  if (!isNaN(id)) {\n    return REPOSITORY[id];\n  }\n\n  if (REPOSITORY[id]) {\n    return REPOSITORY[id];\n  }\n\n  var idSplitted = id.split('.');\n  var scope = window;\n  idSplitted.find(function (token) {\n    scope = scope[token];\n    return !scope;\n  });\n\n  return scope;\n}\n\nfunction put (id, value) {\n  REPOSITORY[id] = value;\n}\n\nexport { get, put };\n\n\n\n// WEBPACK FOOTER //\n// ./repository.js","class Setup {\n  constructor (obj) {\n    Object.assign(this, obj);\n  }\n\n  get (key) {\n    return this[key];\n  }\n\n  set (key, value) {\n    this[key] = value;\n  }\n}\n\nexport default (\n  'xin' in window && 'setup' in window.xin\n    ? window.xin.setup\n    : new Setup(window.xin)\n);\n\n\n\n// WEBPACK FOOTER //\n// ./setup.js","import BaseAccessor from './accessors/base';\nimport AttributeAccessor from './accessors/attribute';\nimport TextAccessor from './accessors/text';\nimport HTMLAccessor from './accessors/html';\nimport ValueAccessor from './accessors/value';\nimport ClassAccessor from './accessors/class';\nimport StyleAccessor from './accessors/style';\nimport PropertyAccessor from './accessors/property';\n\nexport default {\n  get (node, name) {\n    if (node && 'nodeType' in node) {\n      switch (node.nodeType) {\n        case window.Node.ELEMENT_NODE:\n          if (name.endsWith('$')) {\n            return new AttributeAccessor(node, name);\n          } else if (name === 'text') {\n            return new TextAccessor(node);\n          } else if (name === 'html') {\n            return new HTMLAccessor(node, name);\n          } else if (name === 'value' && node.nodeName === 'INPUT') {\n            return new ValueAccessor(node);\n          }\n\n          if (name.startsWith('class.')) {\n            return new ClassAccessor(node, name.split('.').splice(1).join('.'));\n          } else if (name.startsWith('style.')) {\n            return new StyleAccessor(node, name.split('.').splice(1).join('.'));\n          }\n\n          return new PropertyAccessor(node, name);\n        case window.Node.TEXT_NODE:\n          if (node.parentElement && node.parentElement.nodeName === 'TEXTAREA') {\n            return new ValueAccessor(node.parentElement);\n          }\n\n          return new TextAccessor(node);\n        default:\n          throw new Error(`Unimplemented resolving accessor for nodeType: ${node.nodeType}`);\n      }\n    } else {\n      return new BaseAccessor(node, name);\n    }\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/accessor.js","let _matcher;\nlet _level = 0;\nlet _id = 0;\nlet _handlers = {};\nlet _delegatorInstances = {};\n\nfunction _addEvent (delegator, type, callback) {\n    // blur and focus do not bubble up but if you use event capturing\n    // then you will get them\n  let useCapture = type === 'blur' || type === 'focus';\n  delegator.element.addEventListener(type, callback, useCapture);\n}\n\nfunction _cancel (evt) {\n  evt.preventDefault();\n  evt.stopPropagation();\n}\n\n/**\n * returns function to use for determining if an element\n * matches a query selector\n *\n * @returns {Function}\n */\nfunction _getMatcher (element) {\n  if (_matcher) {\n    return _matcher;\n  }\n\n  if (element.matches) {\n    _matcher = element.matches;\n    return _matcher;\n  }\n\n  if (element.webkitMatchesSelector) {\n    _matcher = element.webkitMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.mozMatchesSelector) {\n    _matcher = element.mozMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.msMatchesSelector) {\n    _matcher = element.msMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.oMatchesSelector) {\n    _matcher = element.oMatchesSelector;\n    return _matcher;\n  }\n\n    // if it doesn't match a native browser method\n    // fall back to the delegator function\n  _matcher = Delegator.matchesSelector;\n  return _matcher;\n}\n\n/**\n * determines if the specified element matches a given selector\n *\n * @param {Node} element - the element to compare against the selector\n * @param {string} selector\n * @param {Node} boundElement - the element the listener was attached to\n * @returns {void|Node}\n */\nfunction _matchesSelector (element, selector, boundElement) {\n    // no selector means this event was bound directly to this element\n  if (selector === '_root') {\n    return boundElement;\n  }\n\n    // if we have moved up to the element you bound the event to\n    // then we have come too far\n  if (element === boundElement) {\n    return;\n  }\n\n    // if this is a match then we are done!\n  if (_getMatcher(element).call(element, selector)) {\n    return element;\n  }\n\n    // if this element did not match but has a parent we should try\n    // going up the tree to see if any of the parent elements match\n    // for example if you are looking for a click on an <a> tag but there\n    // is a <span> inside of the a tag that it is the target,\n    // it should still work\n  if (element.parentNode) {\n    _level++;\n    return _matchesSelector(element.parentNode, selector, boundElement);\n  }\n}\n\nfunction _addHandler (delegator, event, selector, callback) {\n  if (!_handlers[delegator.id]) {\n    _handlers[delegator.id] = {};\n  }\n\n  if (!_handlers[delegator.id][event]) {\n    _handlers[delegator.id][event] = {};\n  }\n\n  if (!_handlers[delegator.id][event][selector]) {\n    _handlers[delegator.id][event][selector] = [];\n  }\n\n  _handlers[delegator.id][event][selector].push(callback);\n}\n\nfunction _removeHandler (delegator, event, selector, callback) {\n    // if there are no events tied to this element at all\n    // then don't do anything\n  if (!_handlers[delegator.id]) {\n    return;\n  }\n\n    // if there is no event type specified then remove all events\n    // example: Delegator(element).off()\n  if (!event) {\n    for (let type in _handlers[delegator.id]) {\n      if (_handlers[delegator.id].hasOwnProperty(type)) {\n        _handlers[delegator.id][type] = {};\n      }\n    }\n    return;\n  }\n\n    // if no callback or selector is specified remove all events of this type\n    // example: Delegator(element).off('click')\n  if (!callback && !selector) {\n    _handlers[delegator.id][event] = {};\n    return;\n  }\n\n    // if a selector is specified but no callback remove all events\n    // for this selector\n    // example: Delegator(element).off('click', '.sub-element')\n  if (!callback) {\n    delete _handlers[delegator.id][event][selector];\n    return;\n  }\n\n    // if we have specified an event type, selector, and callback then we\n    // need to make sure there are callbacks tied to this selector to\n    // begin with.  if there aren't then we can stop here\n  if (!_handlers[delegator.id][event][selector]) {\n    return;\n  }\n\n    // if there are then loop through all the callbacks and if we find\n    // one that matches remove it from the array\n  for (let i = 0; i < _handlers[delegator.id][event][selector].length; i++) {\n    if (_handlers[delegator.id][event][selector][i] === callback) {\n      _handlers[delegator.id][event][selector].splice(i, 1);\n      break;\n    }\n  }\n}\n\nfunction _handleEvent (id, e, type) {\n  if (!_handlers[id][type]) {\n    return;\n  }\n\n  let target = e.target || e.srcElement;\n  let selector;\n  let match;\n  let matches = {};\n  let i = 0;\n  let j = 0;\n\n    // find all events that match\n  _level = 0;\n  for (selector in _handlers[id][type]) {\n    if (_handlers[id][type].hasOwnProperty(selector)) {\n      match = _matchesSelector(target, selector, _delegatorInstances[id].element);\n\n      if (match && Delegator.matchesEvent(type, _delegatorInstances[id].element, match, selector === '_root', e)) {\n        _level++;\n        _handlers[id][type][selector].match = match;\n        matches[_level] = _handlers[id][type][selector];\n      }\n    }\n  }\n\n    // stopPropagation() fails to set cancelBubble to true in Webkit\n    // @see http://code.google.com/p/chromium/issues/detail?id=162270\n  e.stopPropagation = function () {\n    e.cancelBubble = true;\n  };\n\n  for (i = 0; i <= _level; i++) {\n    if (matches[i]) {\n      for (j = 0; j < matches[i].length; j++) {\n        if (matches[i][j].call(matches[i].match, e) === false) {\n          Delegator.cancel(e);\n          return;\n        }\n\n        if (e.cancelBubble) {\n          return;\n        }\n      }\n    }\n  }\n}\n\nlet id = 0;\nfunction nextId () {\n  return id++;\n}\n\nconst aliases = new Map();\nconst aliasesDefaultTranslator = name => ([ name ]);\nconst aliasesTranslators = {\n  transitionend (name) {\n    let el = document.createElement('fakeelement');\n    let transitions = {\n      'OTransition': 'oTransitionEnd',\n      'MozTransition': 'transitionend',\n      'WebkitTransition': 'webkitTransitionEnd',\n      'transition': 'transitionend',\n    };\n\n    for (let t in transitions) {\n      if (el.style[t] !== undefined) {\n        return [transitions[t]];\n      }\n    }\n  },\n};\n\nfunction _aliases (name) {\n  let theAliases;\n  if (aliases.has(name)) {\n    theAliases = aliases.get(name);\n  } else {\n    let translator = aliasesTranslators[name] || aliasesDefaultTranslator;\n    theAliases = translator(name);\n    aliases.set(name, theAliases);\n  }\n\n  return theAliases;\n}\n\n/**\n * binds the specified events to the element\n *\n * @param {string|Array} events\n * @param {string} selector\n * @param {Function} callback\n * @param {boolean=} remove\n * @returns {Object}\n */\nfunction _bind (events, selector, callback, remove) {\n    // fail silently if you pass null or undefined as an alement\n    // in the Delegator constructor\n  if (!this.element) {\n    return;\n  }\n\n  if (!(events instanceof Array)) {\n    events = [events];\n  }\n\n  if (!callback && typeof (selector) === 'function') {\n    callback = selector;\n    selector = '_root';\n  }\n\n  if (selector instanceof window.HTMLElement) {\n    let id;\n    if (selector.hasAttribute('bind-event-id')) {\n      id = selector.getAttribute('bind-event-id');\n    } else {\n      id = nextId();\n      selector.setAttribute('bind-event-id', id);\n    }\n    selector = `[bind-event-id=\"${id}\"]`;\n  }\n\n  let id = this.id;\n  let i;\n\n  function _getGlobalCallback (type) {\n    return function (e) {\n      _handleEvent(id, e, type);\n    };\n  }\n\n  for (i = 0; i < events.length; i++) {\n    _aliases(events[i]).forEach(alias => {\n      // console.info('> ' + events[i] + ':' + alias);\n      if (remove) {\n        _removeHandler(this, alias, selector, callback);\n        return;\n      }\n\n      if (!_handlers[id] || !_handlers[id][alias]) {\n        Delegator.addEvent(this, alias, _getGlobalCallback(alias));\n      }\n\n      _addHandler(this, alias, selector, callback);\n    });\n  }\n\n  return this;\n}\n\n/**\n * Delegator object constructor\n *\n * @param {Node} element\n */\nfunction Delegator (element, id) {\n  this.element = element;\n  this.id = id;\n}\n\n/**\n * adds an event\n *\n * @param {string|Array} events\n * @param {string} selector\n * @param {Function} callback\n * @returns {Object}\n */\nDelegator.prototype.on = function (events, selector, callback) {\n  return _bind.call(this, events, selector, callback);\n};\n\n/**\n * removes an event\n *\n * @param {string|Array} events\n * @param {string} selector\n * @param {Function} callback\n * @returns {Object}\n */\nDelegator.prototype.off = function (events, selector, callback) {\n  return _bind.call(this, events, selector, callback, true);\n};\n\nDelegator.prototype.once = function (events, selector, callback) {\n  if (!callback && typeof (selector) === 'function') {\n    callback = selector;\n    selector = '_root';\n  }\n\n  const proxyCallback = (...args) => {\n    this.off(events, selector, proxyCallback);\n    return callback(...args);\n  };\n\n  return this.on(events, selector, proxyCallback);\n};\n\nDelegator.prototype.fire = function (type, detail, options) {\n  options = options || {};\n  detail = detail || {};\n\n  let evt;\n  let bubbles = options.bubbles === undefined ? true : options.bubbles;\n  let cancelable = Boolean(options.cancelable);\n\n  switch (type) {\n    case 'click':\n      evt = new window.Event(type, {\n        bubbles: bubbles,\n        cancelable: cancelable,\n        // XXX is it ok to have detail here?\n        detail: detail,\n      });\n\n      // XXX check if without this works on every browsers\n      // evt = document.createEvent('HTMLEvents');\n      // evt.initEvent(type, true, false);\n      break;\n    default:\n      evt = new window.CustomEvent(type, {\n        bubbles: Boolean(bubbles),\n        cancelable: cancelable,\n        detail: detail,\n      });\n      break;\n  }\n\n  this.element.dispatchEvent(evt);\n\n  return evt;\n};\n\nDelegator.matchesSelector = function () {};\nDelegator.cancel = _cancel;\nDelegator.addEvent = _addEvent;\nDelegator.aliases = _aliases;\nDelegator.matchesEvent = function () {\n  return true;\n};\n\nfunction eventHelper (element) {\n  // only keep one Delegator instance per node to make sure that\n  // we don't create a ton of new objects if you want to delegate\n  // multiple events from the same node\n  //\n  // for example: eventHelper(document).on(...\n  for (let key in _delegatorInstances) {\n    if (_delegatorInstances[key].element === element) {\n      return _delegatorInstances[key];\n    }\n  }\n\n  _id++;\n  _delegatorInstances[_id] = new Delegator(element, _id);\n\n  return _delegatorInstances[_id];\n}\n\nexport default eventHelper;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/event-helper/index.js\n// module id = 5\n// module chunks = 0 1 2","const requestAnimationFrame = (\n  window.requestAnimationFrame ||\n  window.webkitRequestAnimationFrame ||\n  window.mozRequestAnimationFrame ||\n  window.oRequestAnimationFrame ||\n  window.msRequestAnimationFrame\n);\n\nconst cancelAnimationFrame = (\n  window.cancelAnimationFrame ||\n  window.webkitCancelRequestAnimationFrame ||\n  window.webkitCancelAnimationFrame ||\n  window.mozCancelRequestAnimationFrame || window.mozCancelAnimationFrame ||\n  window.oCancelRequestAnimationFrame || window.oCancelAnimationFrame ||\n  window.msCancelRequestAnimationFrame || window.msCancelAnimationFrame\n);\n\nlet id = 0;\nfunction nextId () {\n  return id++;\n}\n\nclass Async {\n  static nextFrame (callback) {\n    return requestAnimationFrame(callback);\n  }\n\n  static run (callback, wait) {\n    return (new Async()).start(callback, wait);\n  }\n\n  constructor (context) {\n    this.id = nextId();\n    this.context = context || null;\n    this.handle = null;\n    this.frameHandle = null;\n    this.cleared = true;\n  }\n\n  start (callback, wait) {\n    if (typeof callback !== 'function') {\n      throw new Error('Async should specify function');\n    }\n\n    if (!this.cleared) {\n      throw new Error('Async already run');\n    }\n\n    this.cleared = false;\n\n    wait = wait || 0;\n\n    let self = this;\n    let context = this.context;\n    let boundCallback = function () {\n      self.frameHandle = requestAnimationFrame(() => {\n        self.__clear();\n        callback.call(context);\n      });\n    };\n\n    if (wait) {\n      this.handle = setTimeout(boundCallback, wait);\n    } else {\n      boundCallback();\n    }\n  }\n\n  __clear () {\n    this.cleared = true;\n\n    cancelAnimationFrame(~~this.frameHandle);\n    clearTimeout(~~this.handle);\n    this.handle = this.frameHandle = null;\n  }\n\n  cancel () {\n    this.__clear();\n  }\n};\n\nexport default Async;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/function-helper/async.js\n// module id = 6\n// module chunks = 0 1 2","export { default as dashify } from './dashify';\nexport { default as camelize } from './camelize';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/inflector/index.js\n// module id = 7\n// module chunks = 0 1 2","import T from 'template-binding';\nimport Expr from 'template-binding/expr';\nimport Accessor from 'template-binding/accessor';\nimport event from 'event-helper';\nimport { deserialize } from 'serializer';\nimport { val } from 'object-helper';\nimport { Async, Debounce } from 'function-helper';\n\nimport { get, put } from './repository';\nimport { dashify } from 'inflector';\nimport setup from './setup';\nimport NotifyAnnotation from './notify-annotation';\n\nconst nextId = (function () {\n  let id = 0;\n  return function () {\n    return id++;\n  };\n})();\n\nlet baseComponents = {};\n\nfunction base (base) {\n  if (baseComponents[base]) {\n    return baseComponents[base];\n  }\n\n  let BaseElement;\n  if (useCustomElements()) {\n    BaseElement = window[base];\n  } else {\n    BaseElement = function () {};\n    BaseElement.prototype = Object.create(window[base].prototype);\n  }\n\n  class Component extends BaseElement {\n    constructor () {\n      super();\n\n      this.is = this.nodeName.toLowerCase();\n\n      this.createdCallback();\n    }\n\n    get $ () {\n      return this.__templateHost.getElementsByTagName('*');\n    }\n\n    created () {}\n\n    ready () {}\n\n    attached () {}\n\n    detached () {}\n\n    createdCallback () {\n      if (setup.get('debug')) console.info(`CREATED ${this.is}`);\n\n      this.__id = nextId();\n\n      put(this.__id, this);\n\n      this.created();\n\n      this.__initData();\n\n      this.__initTemplate();\n\n      this.__initProps();\n\n      this.__initListeners();\n\n      this.async(this.readyCallback);\n    }\n\n    readyCallback () {\n      this.__componentReady = true;\n\n      if (setup.get('debug')) console.info(`READY ${this.is}`);\n\n      this.__initPropValues();\n\n      let contentFragment;\n\n      if (this.__template) {\n        contentFragment = document.createDocumentFragment();\n        [].slice.call(this.childNodes).forEach(node => {\n          if (node === this.__templateMarker) return;\n          contentFragment.appendChild(node);\n        });\n      }\n\n      this.__templateRender(contentFragment);\n\n      this.ready();\n\n      if (this.__componentAttaching) {\n        this.attachedCallback();\n      }\n    }\n\n    attachedCallback () {\n      this.__componentAttaching = true;\n\n      if (!this.__componentReady) {\n        return;\n      }\n\n      // notify default props\n      this.notify('__global');\n      this.notify('__setup');\n      this.notify('__app');\n\n      if (setup.get('debug')) console.info(`ATTACHED ${this.is} ${this.__componentAttaching ? '(delayed)' : ''}`);\n\n      if (!this.hasAttribute('xin-id')) {\n        // deferred set attributes until connectedCallback\n        this.setAttribute('xin-id', this.__id);\n      }\n\n      this.attached();\n\n      this.__componentAttaching = false;\n    }\n\n    detachedCallback () {\n      this.detached();\n    }\n\n    connectedCallback () {\n      return this.attachedCallback();\n    }\n\n    disconnectedCallback () {\n      return this.detachedCallback();\n    }\n\n    get __app () {\n      if (!this.__app$) {\n        if (this.__appSignature) {\n          this.__app$ = this;\n        } else {\n          let app = this.parentElement;\n          while (app && !app.__appSignature) {\n            app = app.parentElement;\n          }\n          this.__app$ = app;\n        }\n      }\n\n      return this.__app$;\n    }\n\n    get __global () {\n      return window;\n    }\n\n    get __setup () {\n      return window.xin.setup;\n    }\n\n    __initData () {\n      this.__componentContent = [];\n      this.__componentDebouncers = {};\n      this.__componentNotifiers = {};\n      this.__componentReady = false;\n      this.__componentAttaching = false;\n      this.__componentInitialPropValues = {};\n      this.__componentNotifiedProps = {};\n    }\n\n    __initProps () {\n      let props = this.__getProps();\n      for (let propName in props) {\n        let property = props[propName];\n        let attrName = dashify(propName);\n\n        if ('computed' in property) {\n          let accessor = Accessor.get(this, propName);\n          let expr = Expr.getFn(property.computed, [], true);\n          this.__templateAnnotate(expr, accessor);\n\n          this.__componentInitialPropValues[propName] = () => expr.invoke(this);\n        } else if (this.hasAttribute(attrName)) {\n          let attrVal = this.getAttribute(attrName);\n\n          // copy value from attribute to property\n          // fallback to property.value\n          let expr = Expr.get(attrVal);\n          if (expr.type === 's') {\n            this.__componentInitialPropValues[propName] = () => deserialize(attrVal, property.type);\n          } else {\n            if ('notify' in property && expr.mode === '{') {\n              this.__componentNotifiedProps[propName] = true;\n              this.__templateGetBinding(propName).annotate(new NotifyAnnotation(this, propName));\n            }\n            this.__componentInitialPropValues[propName] = () => expr.invoke(this.__templateModel);\n          }\n        }\n\n        if ('observer' in property) {\n          let expr = Expr.getFn(property.observer, [ propName ], true);\n          this.__templateAnnotate(expr);\n        }\n      }\n    }\n\n    __getProps () {\n      if (!this._props) {\n        this._props = this.props;\n      }\n      return this._props;\n    }\n\n    __initPropValues () {\n      let props = this.__getProps();\n\n      for (let propName in props) {\n        let property = props[propName];\n\n        let propValue;\n\n        if (this.__componentInitialPropValues[propName]) {\n          propValue = this.__componentInitialPropValues[propName]();\n        } else {\n          propValue = this[propName];\n        }\n\n        if ('value' in property && isUndefinedPropValue(propName, propValue)) {\n          propValue = val(property.value);\n        }\n\n        // when property is undefined, log error when property is required otherwise assign to default value\n        if (property.required && propValue === undefined /* (propValue === undefined || propValue === null) */) {\n          throw new Error(`${this.is}:${this.__id} missing required ${propName}`);\n        }\n\n        // set and force notify for the first time\n        this[propName] = propValue;\n\n        // only notify if propValue already defined otherwise undefined value will be propagated to model\n        if (propValue !== undefined) {\n          this.notify(propName, propValue);\n        }\n      }\n    }\n\n    __isNotified (name) {\n      return (name in this.__componentNotifiedProps);\n    }\n\n    __initTemplate () {\n      let template;\n\n      if (this.childElementCount === 1 && this.firstElementChild.nodeName === 'TEMPLATE' && !this.firstElementChild.hasAttribute('is')) {\n        // when instance template exist detach from component content\n        template = this.firstElementChild;\n        this.removeChild(template);\n      } else if (this.template) {\n        // create new template based on template property\n        template = document.createElement('template');\n        template.innerHTML = this.template;\n      }\n\n      this.__templateInitialize(template, this);\n    }\n\n    __initListeners () {\n      if (!this.listeners) {\n        return;\n      }\n\n      Object.keys(this.listeners).forEach(key => {\n        let meta = parseListenerMetadata(key);\n        let expr = Expr.getFn(this.listeners[key], [], true);\n        if (meta.selector) {\n          this.on(meta.eventName, meta.selector, evt => {\n            expr.invoke(this, { evt });\n          });\n        } else {\n          this.on(meta.eventName, evt => {\n            expr.invoke(this, { evt });\n          });\n        }\n      });\n    }\n\n    __addNotifier (eventName) {\n      if (this.__componentNotifiers[eventName]) {\n        return;\n      }\n\n      this.__componentNotifiers[eventName] = (evt) => {\n        let element = evt.target;\n\n        if (element.__templateModel !== this) {\n          return;\n        }\n\n        evt.stopImmediatePropagation();\n\n        if ('__componentNotifyKey' in element && '__componentNotifyAccessor' in element) {\n          element.__templateModel.set(element.__componentNotifyKey, element[element.__componentNotifyAccessor]);\n        }\n      };\n\n      this.on(eventName, this.__componentNotifiers[eventName]);\n    }\n\n    __removeNotifier (eventName) {\n      if (!this.__componentNotifiers[eventName]) {\n        return;\n      }\n\n      this.off(eventName, this.__componentNotifiers[eventName]);\n      this.__componentNotifiers[eventName] = null;\n    }\n\n    fire (type, detail, options) {\n      return event(this).fire(type, detail, options);\n    }\n\n    async (callback, waitTime) {\n      return (new Async(this)).start(callback, waitTime);\n    }\n\n    debounce (job, callback, wait, immediate) {\n      let debouncer = this.__componentDebouncers[job];\n      if (debouncer && debouncer.running) {\n        debouncer.cancel();\n      } else {\n        debouncer = this.__componentDebouncers[job] = new Debounce(this, immediate);\n      }\n      debouncer.start(callback, wait);\n\n      return debouncer;\n    }\n\n    nextFrame (callback) {\n      return Async.nextFrame(callback.bind(this));\n    }\n\n    // T overriden\n    // -------------------------------------------------------------------------\n    //\n\n    __templateAnnotate (expr, accessor) {\n      if (!T.prototype.__templateAnnotate.call(this, expr, accessor)) {\n        return false;\n      }\n\n      // register event notifier\n      if (expr.mode === '{' && expr.type === 'p' && accessor.node instanceof window.HTMLElement) {\n        const node = accessor.node;\n        const nodeName = node.nodeName;\n\n        const startNotify = (name) => {\n          node.__componentNotifyKey = expr.name;\n          node.__componentNotifyAccessor = accessor.name;\n          this.__addNotifier(name);\n        };\n\n        if (nodeName === 'INPUT') {\n          const inputType = node.getAttribute('type');\n          if (inputType === 'radio' || inputType === 'checkbox') {\n            throw new Error('Unimplemented yet');\n          } else {\n            startNotify('input');\n          }\n        } else if (nodeName === 'TEXTAREA') {\n          startNotify('input');\n        } else if (nodeName === 'SELECT') {\n          startNotify('change');\n        }\n      }\n\n      return true;\n    }\n\n  }\n\n  let tproto = T.prototype;\n  for (let key in tproto) {\n    // exclude __templateAnnotate because will be override\n    if (!tproto.hasOwnProperty(key)) {\n      continue;\n    }\n\n    if (key === '$' || key === '__templateAnnotate') {\n      continue;\n    }\n\n    Component.prototype[key] = tproto[key];\n  }\n\n  baseComponents[base] = Component;\n\n  return Component;\n}\n\nfunction parseListenerMetadata (key) {\n  key = key.trim();\n\n  let splitted = key.split(' ');\n  let metadata = {\n    key: key,\n    eventName: splitted[0],\n    selector: splitted[1] ? splitted.slice(1).join(' ') : null,\n  };\n\n  return metadata;\n}\n\nfunction isUndefinedPropValue (propName, propValue) {\n  return propValue === undefined || (propName === 'title' && !propValue);\n}\n\nfunction useCustomElements () {\n  if ('value' in useCustomElements === false) {\n    let customElementsVersion = setup.get('customElements.version');\n    useCustomElements.value = (\n      (customElementsVersion === 'v1') ||\n      ((!customElementsVersion || customElementsVersion === 'auto') && 'customElements' in window)\n    );\n  }\n\n  return useCustomElements.value;\n}\n\nfunction define (name, Component, options) {\n  let ElementClass = get(name);\n\n  if (ElementClass) {\n    console.warn(`Duplicate registering ${name}`);\n    return ElementClass;\n  }\n\n  if (useCustomElements()) {\n    window.customElements.define(name, Component, options);\n  } else {\n    let prototype = Object.create(Component.prototype, { is: { value: name } });\n    let ElementPrototype = {\n      prototype: prototype,\n    };\n\n    if (options && options.extends) {\n      ElementPrototype.extends = options.extends;\n    }\n\n    ElementClass = document.registerElement(name, ElementPrototype);\n  }\n\n  put(name, ElementClass);\n\n  return ElementClass;\n}\n\nconst Component = base('HTMLElement');\n\nexport { Component, base, define };\n\n\n\n// WEBPACK FOOTER //\n// ./component.js","import setup from './setup';\nimport { get, put } from './repository';\nimport { Component, base, define } from './component';\n\nconst xin = (() => {\n  if ('xin' in window && typeof window.xin === 'function') {\n    return window.xin;\n  }\n\n  let xin = (id) => get(id);\n\n  xin.put = put;\n  xin.setup = setup;\n  xin.Component = Component;\n  xin.base = base;\n  xin.define = define;\n\n  return xin;\n})();\n\nwindow.xin = xin;\n\nexport default xin;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","import Expr from 'template-binding/expr';\n\nclass NotifyAnnotation {\n  constructor (model, name) {\n    let expr = Expr.get(model.getAttribute(name));\n    this.model = model;\n    this.name = expr.name;\n  }\n\n  effect (type, value) {\n    this.model.__templateModel.set(this.name, value);\n  }\n}\n\nexport default NotifyAnnotation;\n\n\n\n// WEBPACK FOOTER //\n// ./notify-annotation.js","import BaseAccessor from './base';\n\nclass AttributeAccessor extends BaseAccessor {\n  constructor (node, name) {\n    super(node, name.slice(0, -1));\n  }\n\n  set (value) {\n    if (value) {\n      if (value !== this.node.getAttribute(this.name)) {\n        this.node.setAttribute(this.name, value);\n      }\n    } else {\n      this.node.removeAttribute(this.name);\n    }\n  }\n\n  get () {\n    return this.node.getAttribute(this.name);\n  }\n}\n\nexport default AttributeAccessor;\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/accessors/attribute.js","import BaseAccessor from './base';\n\nclass ClassAccessor extends BaseAccessor {\n  set (value) {\n    if (value) {\n      this.node.classList.add(this.name);\n    } else {\n      this.node.classList.remove(this.name);\n    }\n  }\n\n  get () {\n    throw new Error('Unimplemented');\n  }\n}\n\nexport default ClassAccessor;\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/accessors/class.js","import BaseAccessor from './base';\n\nclass HTMLAccessor extends BaseAccessor {\n  set (value = '') {\n    this.node.innerHTML = value;\n  }\n\n  get () {\n    return this.node.innerHTML;\n  }\n}\n\nexport default HTMLAccessor;\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/accessors/html.js","import { camelize } from 'inflector';\nimport BaseAccessor from './base';\n\nclass PropertyAccessor extends BaseAccessor {\n  constructor (node, name) {\n    super();\n\n    this.node = node;\n    this.name = camelize(name);\n  }\n}\n\nexport default PropertyAccessor;\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/accessors/property.js","import BaseAccessor from './base';\n\nclass StyleAccessor extends BaseAccessor {\n  set (value = '') {\n    this.node.style[this.name] = value;\n  }\n\n  get () {\n    throw new Error('Unimplemented');\n  }\n}\n\nexport default StyleAccessor;\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/accessors/style.js","import BaseAccessor from './base';\n\nclass TextAccessor extends BaseAccessor {\n  constructor (node) {\n    super(node, 'textContent');\n  }\n\n  set (value = '') {\n    if (value !== this.node.textContent) {\n      this.node.textContent = value;\n    }\n  }\n}\n\nexport default TextAccessor;\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/accessors/text.js","import BaseAccessor from './base';\n\nclass ValueAccessor extends BaseAccessor {\n  constructor (node) {\n    super(node, 'value');\n  }\n\n  set (value = '') {\n    if (document.activeElement !== this.node) {\n      super.set(value);\n    }\n  }\n}\n\nexport default ValueAccessor;\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/accessors/value.js","class Annotation {\n  constructor (model, expr, accessor) {\n    this.model = model;\n    this.expr = expr;\n    this.accessor = accessor;\n  }\n\n  effect (type, value) {\n    if (this.accessor) {\n      this.accessor.set(this.expr.invoke(this.model));\n    } else {\n      this.expr.invoke(this.model);\n    }\n  }\n}\n\nexport default Annotation;\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/annotation.js","class Binding {\n  constructor (context, model) {\n    this.context = context;\n    this.model = model;\n    this.paths = {};\n    this.annotations = [];\n  }\n\n  annotate (annotation) {\n    this.annotations.push(annotation);\n  }\n\n  walkEffect (type, value) {\n    this.annotations.forEach(annotation => {\n      annotation.effect(type, value/* , this.model */);\n    });\n\n    Object.keys(this.paths).forEach(i => {\n      this.paths[i].walkEffect(type, value);\n    });\n  }\n}\n\nexport default Binding;\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/binding.js","class Filter {\n  constructor (name, callback, otherArgs) {\n    this.name = name;\n    this.callback = callback;\n    this.otherArgs = otherArgs;\n  }\n\n  invoke (val) {\n    let args = [val];\n    [].push.apply(args, this.otherArgs);\n    return this.callback.apply(null, args);\n  }\n\n  static put (name, callback) {\n    registry[name] = callback;\n  }\n\n  static get (name) {\n    let segments = name.split(':');\n    let args = segments.splice(1);\n    let key = segments.pop();\n\n    if (key in registry === false) {\n      throw new Error(`Filter \"${name}\" not found.`);\n    }\n\n    return new Filter(key, registry[key], args);\n  }\n}\n\nconst registry = {\n  required: val => {\n    if (val === undefined || val === null || val === '') {\n      throw new Error('Value is required');\n    }\n    return val;\n  },\n  string: val => String(val),\n  number: val => Number(val),\n  boolean: val => Boolean(val),\n  default: (val, defVal) => (val || defVal),\n  upper: val => String.prototype.toUpperCase.call(val || ''),\n  lower: val => String.prototype.toLowerCase.call(val || ''),\n  not: val => !val,\n  slice: (val, begin, end) => Array.prototype.slice.call(val || [], begin, end),\n  json: (val, indent) => JSON.stringify(val, null, Number(indent)),\n  consoleTrace: val => console.trace(val),\n  consoleLog: val => console.log(val),\n  consoleInfo: val => console.info(val),\n  consoleWarn: val => console.warn(val),\n  consoleError: val => console.error(val),\n  currency: val => (val || 0).toFixed(2).replace(/(\\d)(?=(\\d{3})+\\.)/g, '$1,'),\n};\n\nexport default Filter;\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/filter.js","const SLOT_SUPPORTED = (() => {\n  if (typeof window === 'undefined') {\n    return false;\n  }\n\n  return (\n    'HTMLUnknownElement' in window &&\n    !(document.createElement('slot') instanceof window.HTMLUnknownElement)\n  );\n})();\n\nfunction slotName (element) {\n  return SLOT_SUPPORTED ? element.name : element.getAttribute('name');\n}\n\nexport { slotName };\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/helpers/slot.js","function fix (template) {\n  if (!template.content && window.HTMLTemplateElement && window.HTMLTemplateElement.decorate) {\n    window.HTMLTemplateElement.decorate(template);\n  }\n  return template;\n};\n\nfunction needFixImportNode () {\n  // console.log('needFixImportNode?');\n  if (document.__importNode) {\n    // already fixed\n    return false;\n  }\n  let template = document.createElement('template');\n  template.innerHTML = '<template>i</template>';\n  let imported = document.importNode(template.content, true);\n  return imported.firstChild.content.firstChild.textContent !== 'i';\n}\n\nif (needFixImportNode()) {\n  // console.log('fixed importNode');\n  document.__importNode = document.importNode;\n  document.importNode = function (node, deep) {\n    if (!deep) {\n      return document.__importNode(node, deep);\n    }\n\n    let sourceTpls = [].slice.call(node.querySelectorAll('template'));\n    let imported = document.__importNode(node, deep);\n    [].forEach.call(imported.querySelectorAll('template'), (child, i) => {\n      child.innerHTML = sourceTpls[i].innerHTML;\n    });\n\n    return imported;\n  };\n}\n\nexport { fix };\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/helpers/template.js","import eventHelper from 'event-helper';\n\nimport Expr from './expr';\nimport Binding from './binding';\nimport Accessor from './accessor';\nimport Annotation from './annotation';\n\nimport { fix } from './helpers/template';\nimport { slotName } from './helpers/slot';\n\nconst nextId = (function () {\n  let id = 0;\n  return function () {\n    return id++;\n  };\n})();\n\nfunction T (template, host, marker) {\n  this.__templateInitialize(template, host, marker);\n  this.__templateRender();\n}\n\nT.prototype = {\n  get $ () {\n    return this.__templateHost.getElementsByTagName('*');\n  },\n\n  $$ (selector) {\n    return this.querySelector(selector);\n  },\n\n  promised (eventName, selector) {\n    return new Promise(resolve => {\n      if (selector) {\n        this.once(eventName, selector, resolve);\n      } else {\n        this.once(eventName, resolve);\n      }\n    });\n  },\n\n  on () {\n    eventHelper(this.__templateHost).on(...arguments);\n  },\n\n  off () {\n    eventHelper(this.__templateHost).off(...arguments);\n  },\n\n  once () {\n    eventHelper(this.__templateHost).once(...arguments);\n  },\n\n  all (obj) {\n    for (let i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        this.set(i, obj[i]);\n      }\n    }\n  },\n\n  get (path) {\n    let object = this;\n\n    this.__templateGetPathAsArray(path).some(segment => {\n      if (object === undefined || object === null) {\n        object = undefined;\n        return true;\n      }\n\n      object = object[segment];\n      return false;\n    });\n\n    return object;\n  },\n\n  set (path, value) {\n    path = this.__templateGetPathAsArray(path);\n\n    let oldValue = this.get(path);\n\n    if (value === oldValue) {\n      return;\n    }\n\n    let object = this;\n\n    path.slice(0, -1).forEach(segment => {\n      if (!object) {\n        return;\n      }\n      if (object[segment] === undefined || object[segment] === null) {\n        object[segment] = {};\n      }\n\n      object = object[segment];\n    });\n\n    let property = path.slice(-1).pop();\n\n    object[property] = value;\n\n    this.notify(path, value);\n  },\n\n  push (path, ...values) {\n    path = this.__templateGetPathAsArray(path);\n\n    let object = this;\n\n    path.slice(0, -1).forEach(segment => {\n      if (!object) {\n        return;\n      }\n      if (object[segment] === undefined || object[segment] === null) {\n        object[segment] = {};\n      }\n\n      object = object[segment];\n    });\n\n    let property = path.slice(-1).pop();\n\n    if (!Array.isArray(object[property])) {\n      object[property] = [];\n    }\n\n    object[property] = object[property].slice();\n    let result = object[property].push(...values);\n    this.notify(path, object[property]);\n\n    // let index = object[property].length;\n    // let removed = [];\n    // let addedCount = values.length;\n    // let result = object[property].push(...values);\n    //\n    // object = object[property];\n    //\n    // this.notifySplices(path, [\n    //   { index, removed, addedCount, object, type: 'splice' },\n    // ]);\n\n    return result;\n  },\n\n  pop (path) {\n    path = this.__templateGetPathAsArray(path);\n\n    let object = this;\n\n    path.slice(0, -1).forEach(segment => {\n      if (!object) {\n        return;\n      }\n      if (object[segment] === undefined || object[segment] === null) {\n        object[segment] = {};\n      }\n\n      object = object[segment];\n    });\n\n    let property = path.slice(-1).pop();\n\n    if (!Array.isArray(object[property])) {\n      object[property] = [];\n    }\n\n    object[property] = object[property].slice();\n    let result = object[property].pop();\n    this.notify(path, object[property]);\n\n    // let index = object[property].length;\n    // let addedCount = 0;\n    // let result = object[property].pop();\n    // let removed = [ result ];\n    //\n    // object = object[property];\n    //\n    // this.notifySplices(path, [\n    //   { index, removed, addedCount, object, type: 'splice' },\n    // ]);\n\n    return result;\n  },\n\n  splice (path, index, removeCount, ...values) {\n    path = this.__templateGetPathAsArray(path);\n\n    let object = this;\n\n    path.slice(0, -1).forEach(segment => {\n      if (!object) {\n        return;\n      }\n      if (object[segment] === undefined || object[segment] === null) {\n        object[segment] = {};\n      }\n\n      object = object[segment];\n    });\n\n    let property = path.slice(-1).pop();\n\n    if (!Array.isArray(object[property])) {\n      object[property] = [];\n    }\n\n    object[property] = object[property].slice();\n    let result = object[property].splice(index, removeCount, ...values);\n    this.notify(path, object[property]);\n\n    // let addedCount = values.length;\n    // let result = object[property].splice(...values);\n    // let removed = result;\n    //\n    // object = object[property];\n    //\n    // this.notifySplices(path, [\n    //   { index, removed, addedCount, object, type: 'splice' },\n    // ]);\n\n    return result;\n  },\n\n  notify (path, value) {\n    path = this.__templateGetPathAsString(path);\n\n    if (!this.__templateReady) {\n      if (this.__templateNotifyOnReady.indexOf(path) === -1) {\n        this.__templateNotifyOnReady.push(path);\n      }\n      return;\n    }\n\n    let binding = this.__templateGetBinding(path);\n    if (binding) {\n      if (value === undefined) {\n        value = this.get(path);\n      }\n\n      binding.walkEffect('set', value);\n    }\n  },\n\n  // notifySplices (path, splices) {\n  //   path = this.__templateGetPathAsString(path);\n  //\n  //   if (!this.__templateReady) {\n  //     if (this.__templateNotifyOnReady.indexOf(path) === -1) {\n  //       this.__templateNotifyOnReady.push(path);\n  //     }\n  //     return;\n  //   }\n  //\n  //   let binding = this.__templateGetBinding(path);\n  //   if (binding) {\n  //     binding.walkEffect('splice', splices);\n  //   }\n  // },\n\n  __templateInitialize (template, host, marker) {\n    this.__templateId = nextId();\n    this.__templateBindings = {};\n    this.__templateHost = host || (template ? template.parentElement : null);\n    this.__templateMarker = marker;\n\n    this.__templateReady = false;\n    this.__templateNotifyOnReady = [];\n\n    if (!template) {\n      return;\n    }\n\n    // do below only if template is exists\n    this.__template = fix(template);\n    this.__templateChildNodes = [];\n\n    this.__templateFragment = document.importNode(this.__template.content, true);\n    this.__parseAnnotations();\n\n    if (marker) {\n      return;\n    }\n\n    if (this.__template.parentElement === this.__templateHost) {\n      // when template parent is template host, it means that template is specific template\n      // then use template as marker\n      this.__templateMarker = this.__template;\n    } else {\n      // when template is not child of host, put marker to host\n      this.__templateMarker = document.createComment(`marker-${this.__templateId}`);\n      this.__templateHost.appendChild(this.__templateMarker);\n    }\n  },\n\n  __templateRender (contentFragment) {\n    this.__templateReady = true;\n\n    this.__templateNotifyOnReady.forEach(key => {\n      this.notify(key, this.get(key));\n    });\n    this.__templateNotifyOnReady = [];\n\n    if (!this.__template) {\n      return;\n    }\n\n    let fragment = this.__templateFragment;\n    this.__templateFragment = null;\n\n    if (contentFragment && contentFragment instanceof window.DocumentFragment) {\n      // try {\n      [].forEach.call(fragment.querySelectorAll('slot'), slot => {\n        let name = slotName(slot);\n        let parent = slot.parentElement || fragment;\n        let marker = document.createComment(`slot ${name}`);\n\n        parent.insertBefore(marker, slot);\n        parent.removeChild(slot);\n\n        if (name) {\n          let node = contentFragment.querySelectorAll(`[slot=\"${name}\"]`);\n          [].forEach.call(node, (node) => {\n            parent.insertBefore(node, marker);\n          });\n        } else {\n          parent.insertBefore(contentFragment, marker);\n        }\n      });\n    }\n\n    this.__templateMarker.parentElement.insertBefore(fragment, this.__templateMarker);\n  },\n\n  __templateUninitialize () {\n    this.__templateChildNodes.forEach(node => {\n      node.parentElement.removeChild(node);\n    });\n  },\n\n  __templateGetPathAsArray (path) {\n    // if (!path) {\n    //   throw new Error(`Unknown path ${path} to set to ${this.is}`);\n    // }\n\n    if (typeof path !== 'string') {\n      return path;\n    }\n\n    return path.split('.');\n  },\n\n  __templateGetPathAsString (path) {\n    if (typeof path === 'string') {\n      return path;\n    }\n\n    return path.join('.');\n  },\n\n  __parseAnnotations () {\n    this.__templateChildNodes = [ ...this.__templateFragment.childNodes ];\n\n    let len = this.__templateChildNodes.length;\n\n    for (let i = 0; i < len; i++) {\n      let node = this.__templateChildNodes[i];\n\n      switch (node.nodeType) {\n        case window.Node.ELEMENT_NODE:\n          this.__parseElementAnnotations(node);\n          break;\n        case window.Node.TEXT_NODE:\n          this.__parseTextAnnotations(node);\n          break;\n      }\n    }\n  },\n\n  __parseEventAnnotations (element, attrName) {\n    // bind event annotation\n    let attrValue = element.getAttribute(attrName);\n    let eventName = attrName.slice(1, -1);\n    // let eventName = attrName.substr(3);\n    if (eventName === 'tap') {\n      eventName = 'click';\n    }\n\n    let context = this;\n    let expr = Expr.getFn(attrValue, [], true);\n\n    this.on(eventName, element, evt => {\n      expr.invoke(context, { evt });\n    });\n  },\n\n  __parseAttributeAnnotations (element) {\n    // clone attributes to array first then foreach because we will remove\n    // attribute later if already processed\n    // this hack to make sure when attribute removed the attributes index doesnt shift.\n    let annotated = false;\n\n    let len = element.attributes.length;\n\n    for (let i = 0; i < len; i++) {\n      let attr = element.attributes[i];\n\n      let attrName = attr.name;\n\n      if (attrName === 'id' || attrName === 'class' || attrName === 'style') {\n        continue;\n      }\n\n      if (attrName.indexOf('(') === 0) {\n        this.__parseEventAnnotations(element, attrName);\n      } else {\n        // bind property annotation\n        annotated = this.__templateAnnotate(Expr.get(attr.value), Accessor.get(element, attrName)) || annotated;\n      }\n    }\n\n    return annotated;\n  },\n\n  __parseElementAnnotations (element) {\n    let annotated = false;\n\n    // when element already has template model it means it already parsed, skip\n    // parsing that element\n    if (element.__templateModel) {\n      return annotated;\n    }\n\n    element.__templateModel = this;\n\n    if (element.attributes && element.attributes.length) {\n      annotated = this.__parseAttributeAnnotations(element) || annotated;\n    }\n\n    if (element.childNodes && element.childNodes.length) {\n      let childNodes = [].slice.call(element.childNodes);\n      let childNodesLength = childNodes.length;\n\n      for (let i = 0; i < childNodesLength; i++) {\n        annotated = this.__parseNodeAnnotations(childNodes[i]) || annotated;\n      }\n    }\n\n    [].forEach.call(element.getElementsByTagName('slot'), slot => {\n      [].forEach.call(slot.childNodes, node => {\n        annotated = this.__parseNodeAnnotations(node) || annotated;\n      });\n    });\n\n    return annotated;\n  },\n\n  __parseNodeAnnotations (node) {\n    switch (node.nodeType) {\n      case window.Node.TEXT_NODE:\n        return this.__parseTextAnnotations(node);\n      case window.Node.ELEMENT_NODE:\n        return this.__parseElementAnnotations(node);\n    }\n  },\n\n  __parseTextAnnotations (node) {\n    let expr = Expr.get(node.textContent);\n    let accessor = Accessor.get(node);\n    return this.__templateAnnotate(expr, accessor);\n  },\n\n  __templateAnnotate (expr, accessor) {\n    if (expr.type === 's') {\n      return false;\n    }\n\n    if (expr.constant) {\n      let val = expr.invoke(this);\n      accessor.set(val);\n      return false;\n    }\n\n    // annotate every paths\n    let annotation = new Annotation(this, expr, accessor);\n\n    // TODO when the annotation to specific model, expr and accessor already exist\n    // do not reannotate, see repeat@_itemsChanged\n    // if (expr && expr.name === '_itemsChanged') {\n    //   console.log(annotation);\n    // }\n\n    if (expr.type === 'm') {\n      this.__templateGetBinding(expr.fn.name).annotate(annotation);\n    }\n\n    expr.vpaths.forEach(arg => this.__templateGetBinding(arg.name).annotate(annotation));\n\n    return true;\n  },\n\n  __templateGetBinding (path) {\n    let segments = path.split('.');\n    let bindings;\n    let binding;\n\n    for (let i = 0; i < segments.length; i++) {\n      let segment = segments[i];\n\n      bindings = binding ? binding.paths : this.__templateBindings;\n\n      if (!bindings[segment]) {\n        bindings[segment] = new Binding(this, segment);\n      }\n\n      binding = bindings[segment];\n    }\n\n    return binding;\n  },\n};\n\n// new version will not export filter token and css modules\n// T.Filter = Filter;\n// T.Accessor = Accessor;\n// T.Token = Token;\n// T.Css = Css;\n\nwindow.T = T;\n\nexport default T;\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/index.js","const CACHE = {};\n\nclass Token {\n  static get CACHE () {\n    return CACHE;\n  }\n\n  static get (name) {\n    if (name in CACHE) {\n      return CACHE[name];\n    }\n\n    let token = new Token(name);\n    CACHE[name] = token;\n    return token;\n  }\n\n  constructor (name) {\n    this.name = name;\n    this.contextName = '';\n    this.baseName = '';\n    this._value = null;\n    this.type = 'v';\n\n    if (!this.name.match(/^[a-zA-Z_]/)) {\n      try {\n        this._value = JSON.parse(this.name);\n        this.type = 's';\n        return;\n      } catch (err) {\n      }\n    }\n\n    if (this.type === 'v') {\n      let nameSegments = this.name.split('.');\n      this.baseName = nameSegments.pop();\n      this.contextName = nameSegments.join('.');\n    }\n  }\n\n  value (...contexts) {\n    if (this.type === 's') {\n      return this._value;\n    }\n\n    for (let context of contexts) {\n      if (!context) {\n        continue;\n      }\n\n      let val = typeof context.get === 'function' ? context.get(this.name) : context[this.name];\n      if (val !== undefined) {\n        return val;\n      }\n    }\n  }\n\n  invoke (args, ...contexts) {\n    if (contexts.length === 0) {\n      throw new Error(`Cannot invoke method ${this.name} of undefined context`);\n    }\n\n    if (this.type === 's') {\n      let [ context ] = contexts;\n      throw new Error(`Method is not eligible, ${context.__templateHost.nodeName || '$anonymous'}#${this.name}`);\n    }\n\n    for (let context of contexts) {\n      if (!context) {\n        continue;\n      }\n\n      if (typeof context.get === 'function') {\n        let ctx = this.contextName ? context.get(this.contextName) : context;\n        if (typeof ctx[this.baseName] === 'function') {\n          return ctx[this.baseName](...args);\n        }\n      } else if (typeof context[this.name] === 'function') {\n        return context[this.name].apply(context, args);\n      }\n    }\n\n    let [ context ] = contexts;\n    throw new Error(`Method is not eligible, ${context.__templateHost.nodeName || '$anonymous'}#${this.name}`);\n  }\n}\n\nexport default Token;\n\n\n\n// WEBPACK FOOTER //\n// ./~/template-binding/token.js","import Async from './async';\n\nclass Debounce {\n  constructor (context, immediate) {\n    this.context = context;\n    this.immediate = Boolean(immediate);\n    this.async = null;\n    this.running = false;\n  }\n\n  start (callback, wait) {\n    if (this.immediate) {\n      throw new Error('Unimplemented yet!');\n    }\n\n    this.running = true;\n    this.async = new Async(this.context);\n    this.async.start(() => {\n      callback.call(this.context);\n      this.running = false;\n      this.async = null;\n    }, wait);\n  }\n\n  cancel () {\n    this.running = false;\n    this.async.cancel();\n    this.async = null;\n  }\n}\n\nexport default Debounce;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/function-helper/debounce.js\n// module id = 27\n// module chunks = 0 1 2","export { default as Async } from './async';\nexport { default as Debounce } from './debounce';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/function-helper/index.js\n// module id = 28\n// module chunks = 0 1 2","var camelized = {};\n\nfunction camelize (dash) {\n  var mapped = camelized[dash];\n  if (mapped) {\n    return mapped;\n  }\n  if (dash.indexOf('-') < 0) {\n    camelized[dash] = dash;\n  } else {\n    camelized[dash] = dash.replace(/-([a-z])/g,\n      function (m) {\n        return m[1].toUpperCase();\n      }\n    );\n  }\n\n  return camelized[dash];\n}\n\nexport default camelize;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/inflector/camelize.js\n// module id = 29\n// module chunks = 0 1 2","var dashified = {};\n\nfunction dashify (camel) {\n  var mapped = dashified[camel];\n  if (mapped) {\n    return mapped;\n  }\n  dashified[camel] = camel.replace(/([a-z][A-Z])/g,\n    function (g) {\n      return g[0] + '-' + g[1].toLowerCase();\n    }\n  );\n\n  return dashified[camel];\n}\n\nexport default dashify;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/inflector/dashify.js\n// module id = 30\n// module chunks = 0 1 2","import val from './val';\n\nexport { val };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/object-helper/index.js\n// module id = 31\n// module chunks = 0 1 2","export default function v (value, ...args) {\n  return typeof value === 'function' ? value(...args) : value;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/object-helper/val.js\n// module id = 32\n// module chunks = 0 1 2","function deserialize (value, type) {\n  switch (type) {\n    case Number:\n      value = Number(value);\n      break;\n\n    case Boolean:\n      value = Boolean(value === '' || value === 'true' || value === '1' || value === 'on');\n      break;\n\n    case Object:\n      try {\n        value = JSON.parse(value);\n      } catch (err) {\n        // allow non-JSON literals like Strings and Numbers\n        // console.warn('Failed decode json: \"' + value + '\" to Object');\n      }\n      break;\n\n    case Array:\n      try {\n        value = JSON.parse(value);\n      } catch (err) {\n        // .console.warn('Failed decode json: \"' + value + '\" to Array');\n        value = null;\n      }\n      break;\n\n    case Date:\n      value = new Date(value);\n      break;\n\n    case RegExp:\n      value = new RegExp(value);\n      break;\n\n    case Function:\n      value = new Function(value); // eslint-disable-line\n      break;\n\n    // behave like default for now\n    // case String:\n    default:\n      break;\n  }\n  return value;\n}\n\nexport default deserialize;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/serializer/deserialize.js\n// module id = 33\n// module chunks = 0 1 2","import serialize from './serialize';\nimport deserialize from './deserialize';\n\nexport { serialize, deserialize };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/serializer/index.js\n// module id = 34\n// module chunks = 0 1 2","function serialize (value) {\n  switch (typeof value) {\n    case 'boolean':\n      return value ? '' : undefined;\n\n    case 'object':\n      if (value instanceof Date) {\n        return value;\n      } else if (value instanceof RegExp) {\n        return value.toString().slice(1, -1);\n      } else if (value) {\n        try {\n          return JSON.stringify(value);\n        } catch (err) {\n          return '';\n        }\n      }\n      break;\n    default:\n      // noop\n  }\n  return value === null ? undefined : value;\n}\n\nexport default serialize;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/serializer/serialize.js\n// module id = 35\n// module chunks = 0 1 2"],"sourceRoot":""}