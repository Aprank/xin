{"version":3,"sources":["webpack:///./views/view/view.css?c19e*","webpack:///./views/view/view.css?6c18**","webpack:///./views/view/view.js?dba1*"],"names":["View","xin","Component","props","TRANSITION_IN","__config","get","TRANSITION_OUT","Object","assign","uri","type","String","required","transitionIn","value","transitionOut","index","Number","focusing","focused","blurred","created","classList","add","ready","inFx","element","transition","method","outFx","attached","remove","__app","console","warn","route","parameters","focus","fire","set","async","parentElement","setFocus","setVisible","visible","view","forEach","call","querySelectorAll","el","define"],"mappings":"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","file":"5.js","sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".xin-view {\\n  box-sizing: border-box;\\n  display: none;\\n}\\n\\n.xin-view.xin-view--visible {\\n  display: block;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./views/view/view.css\n// module id = 101\n// module chunks = 3 4 5 6","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!./view.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./view.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./view.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./views/view/view.css\n// module id = 102\n// module chunks = 3 4 5 6","import xin from '../../';\nimport { Fx } from '../../core';\n\nimport './view.css';\n\n\nexport class View extends xin.Component {\n  get props () {\n    const TRANSITION_IN = this.__config.get('xin.View.transitionIn') || this.__config.get('xin.View.transition') || 'slide';\n    const TRANSITION_OUT = this.__config.get('xin.View.transitionOut') || this.__config.get('xin.View.transition') || 'fade';\n\n    return Object.assign({}, super.props, {\n      uri: {\n        type: String,\n        required: true,\n      },\n      transitionIn: {\n        type: String,\n        value: TRANSITION_IN,\n      },\n      transitionOut: {\n        type: String,\n        value: TRANSITION_OUT,\n      },\n      index: {\n        type: Number,\n        value: 0,\n      },\n    });\n  }\n\n  focusing () {}\n\n  focused () {}\n\n  blurred () {}\n\n  created () {\n    super.created();\n\n    this.classList.add('xin-view');\n  }\n\n  ready () {\n    super.ready();\n\n    this.inFx = new Fx({\n      element: this,\n      transition: this.transitionIn,\n      method: 'in',\n    });\n\n    this.outFx = new Fx({\n      element: this,\n      transition: this.transitionOut,\n      method: 'out',\n    });\n  }\n\n  attached () {\n    super.attached();\n\n    this.classList.remove('xin-view--focus');\n    this.classList.remove('xin-view--visible');\n\n    if (!this.__app) {\n      console.warn('Cannot route view to undefined app');\n      return;\n    }\n\n    this.__app.route(this.uri, parameters => {\n      this.focus(parameters);\n    });\n\n    this.fire('routed');\n  }\n\n  async focus (parameters = {}) {\n    this.set('parameters', parameters);\n\n    await this.focusing(parameters);\n    this.fire('focusing', parameters);\n\n    this.async(() => {\n      if ('setFocus' in this.parentElement) {\n        this.parentElement.setFocus(this);\n      } else {\n        this.setVisible(true);\n        this.setFocus(true);\n      }\n    });\n  }\n\n  setVisible (visible) {\n    if (visible) {\n      this.classList.add('xin-view--visible');\n      this.fire('show', { view: this });\n      return;\n    }\n\n    this.classList.remove('xin-view--visible');\n    [].forEach.call(this.querySelectorAll('.xin-view.xin-view--visible'), el => el.setVisible(visible));\n\n    this.fire('hide');\n  }\n\n  async setFocus (focus) {\n    if (focus) {\n      this.classList.add('xin-view--focus');\n      await this.focused();\n      this.fire('focus');\n      return;\n    }\n\n    this.classList.remove('xin-view--focus');\n    [].forEach.call(this.querySelectorAll('.xin-view.xin-view--focus'), el => {\n      if ('setFocus' in el.parentElement) {\n        el.parentElement.setFocus(null);\n      } else {\n        el.setFocus(focus);\n      }\n    });\n\n    await this.blurred();\n    this.fire('blur');\n  }\n}\n\nxin.define('xin-view', View);\n\nexport default View;\n\n\n\n// WEBPACK FOOTER //\n// ./views/view/view.js"],"sourceRoot":""}